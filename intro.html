<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1 FEM Magnetics Toolbox (FEMMT) &mdash; FEM Magnetics Toolbox 0.5.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=e1a677a5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to FEM Magnetics Toolbox’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            FEM Magnetics Toolbox
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#"><span class="sectnum">1 </span>FEM Magnetics Toolbox (FEMMT)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview-features"><span class="sectnum">1.1 </span>Overview features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stable-features"><span class="sectnum">1.1.1 </span>Stable features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental-features-under-development"><span class="sectnum">1.1.2 </span>Experimental features (under development)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#planned-features-roadmap-for-202x"><span class="sectnum">1.1.3 </span>Planned features (Roadmap for 202x)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#not-supported-features"><span class="sectnum">1.1.4 </span>Not supported features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#documentation"><span class="sectnum">1.2 </span>Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation"><span class="sectnum">1.3 </span>Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#onelab-installation"><span class="sectnum">1.3.1 </span>ONELAB installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-femmt"><span class="sectnum">1.3.2 </span>Install FEMMT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#minimal-example"><span class="sectnum">1.4 </span>Minimal example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gui-experimental"><span class="sectnum">1.5 </span>GUI (Experimental)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bug-reports"><span class="sectnum">1.6 </span>Bug Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing"><span class="sectnum">1.7 </span>Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changelog"><span class="sectnum">1.8 </span>Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license"><span class="sectnum">1.9 </span>License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#history-and-project-status"><span class="sectnum">1.10 </span>History and project status</a></li>
<li class="toctree-l2"><a class="reference internal" href="#femmt-development-version-for-developers-only"><span class="sectnum">1.11 </span>FEMMT development version (for developers only)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basics"><span class="sectnum">1.11.1 </span>Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#counting-arrow-system"><span class="sectnum">1.11.2 </span>Counting arrow system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id1"><span class="sectnum">1.12 </span>GUI (Experimental)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#user-guide-how-to-create-a-femmt-model"><span class="sectnum">2 </span>User Guide: How to create a FEMMT model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#working-directory"><span class="sectnum">2.1 </span>Working directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-core"><span class="sectnum">2.2 </span>Creating a core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#material-database"><span class="sectnum">2.2.1 </span>Material database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-air-gaps-to-the-core"><span class="sectnum">2.3 </span>Adding air gaps to the core</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-insulation-distances"><span class="sectnum">2.4 </span>Set insulation distances</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-windings-to-the-winding-window"><span class="sectnum">2.5 </span>Add windings to the winding window</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#virtual-winding-windows"><span class="sectnum">2.5.1 </span>Virtual Winding Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#winding-types-and-winding-schemes"><span class="sectnum">2.5.2 </span>Winding types and winding schemes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conductorarrangement"><span class="sectnum">2.5.2.1 </span>ConductorArrangement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wrapparatype"><span class="sectnum">2.5.2.2 </span>WrapParaType</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#add-conductors"><span class="sectnum">2.6 </span>Add conductors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add-conductors-to-virtual-winding-windows"><span class="sectnum">2.6.1 </span>Add conductors to virtual winding windows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#alignment"><span class="sectnum">2.6.1.1 </span>Alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#placement-strategies"><span class="sectnum">2.6.1.2 </span>Placement Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#zigzag-condition"><span class="sectnum">2.6.1.3 </span>Zigzag Condition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-model-and-start-simulation"><span class="sectnum">2.7 </span>Create model and start simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-customization"><span class="sectnum">2.8 </span>Mesh Customization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#conductor-meshing"><span class="sectnum">2.8.1 </span>Conductor meshing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manually-adapting-the-mesh"><span class="sectnum">2.8.2 </span>Manually Adapting the Mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viewing-the-mesh-in-gmsh"><span class="sectnum">2.8.3 </span>Viewing the Mesh in Gmsh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#optional-create-thermal-simulation"><span class="sectnum">2.9 </span>[Optional] Create thermal simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-read-the-result-log"><span class="sectnum">2.10 </span>How to Read the Result Log</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-result-log"><span class="sectnum">2.10.1 </span>Example Result Log</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#log-electro-magnetic-json-file-in-frequency-domain"><span class="sectnum">2.10.1.1 </span>log_electro_magnetic.json File in Frequency Domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-electro-magnetic-json-file-in-time-domain"><span class="sectnum">2.10.1.2 </span>log_electro_magnetic.json File in Time Domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#results-thermal-json-file"><span class="sectnum">2.10.1.3 </span>results_thermal.json File</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#warnings-and-failures"><span class="sectnum">2.11 </span>Warnings and Failures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#winding-types"><span class="sectnum">3 </span>Winding types</a></li>
<li class="toctree-l1"><a class="reference internal" href="#femmt-class-and-function-documentation"><span class="sectnum">4 </span>FEMMT class and function documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-magneticcomponent-class"><span class="sectnum">4.1 </span>The <code class="docutils literal notranslate"><span class="pre">MagneticComponent</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.MagneticComponent"><code class="docutils literal notranslate"><span class="pre">MagneticComponent</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.__init__"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.create_model"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.create_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.excitation_sweep"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.excitation_sweep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.femm_reference"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.femm_reference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.femm_thermal_validation"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.femm_thermal_validation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.mesh"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.mesh()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.set_air_gaps"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.set_air_gaps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.set_core"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.set_core()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.set_insulation"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.set_insulation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.set_stray_path"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.set_stray_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.set_winding_windows"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.set_winding_windows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.single_simulation"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.single_simulation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.MagneticComponent.thermal_simulation"><code class="docutils literal notranslate"><span class="pre">MagneticComponent.thermal_simulation()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-core-class"><span class="sectnum">4.2 </span>The <code class="docutils literal notranslate"><span class="pre">Core</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.Core"><code class="docutils literal notranslate"><span class="pre">Core</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Core.__init__"><code class="docutils literal notranslate"><span class="pre">Core.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-airgaps-class"><span class="sectnum">4.3 </span>The <code class="docutils literal notranslate"><span class="pre">AirGaps</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.AirGaps"><code class="docutils literal notranslate"><span class="pre">AirGaps</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.AirGaps.__init__"><code class="docutils literal notranslate"><span class="pre">AirGaps.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.AirGaps.add_air_gap"><code class="docutils literal notranslate"><span class="pre">AirGaps.add_air_gap()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-insulation-class"><span class="sectnum">4.4 </span>The <code class="docutils literal notranslate"><span class="pre">Insulation</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.Insulation"><code class="docutils literal notranslate"><span class="pre">Insulation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Insulation.__init__"><code class="docutils literal notranslate"><span class="pre">Insulation.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Insulation.add_core_insulations"><code class="docutils literal notranslate"><span class="pre">Insulation.add_core_insulations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Insulation.add_winding_insulations"><code class="docutils literal notranslate"><span class="pre">Insulation.add_winding_insulations()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-conductor-class"><span class="sectnum">4.5 </span>The <code class="docutils literal notranslate"><span class="pre">Conductor</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.Conductor"><code class="docutils literal notranslate"><span class="pre">Conductor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Conductor.__init__"><code class="docutils literal notranslate"><span class="pre">Conductor.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Conductor.set_litz_round_conductor"><code class="docutils literal notranslate"><span class="pre">Conductor.set_litz_round_conductor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Conductor.set_rectangular_conductor"><code class="docutils literal notranslate"><span class="pre">Conductor.set_rectangular_conductor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.Conductor.set_solid_round_conductor"><code class="docutils literal notranslate"><span class="pre">Conductor.set_solid_round_conductor()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-windingwindow-class"><span class="sectnum">4.6 </span>The <code class="docutils literal notranslate"><span class="pre">WindingWindow</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.WindingWindow"><code class="docutils literal notranslate"><span class="pre">WindingWindow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingWindow.__init__"><code class="docutils literal notranslate"><span class="pre">WindingWindow.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingWindow.combine_vww"><code class="docutils literal notranslate"><span class="pre">WindingWindow.combine_vww()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingWindow.split_window"><code class="docutils literal notranslate"><span class="pre">WindingWindow.split_window()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-virtualwindingwindow-class"><span class="sectnum">4.7 </span>The <code class="docutils literal notranslate"><span class="pre">VirtualWindingWindow</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.VirtualWindingWindow"><code class="docutils literal notranslate"><span class="pre">VirtualWindingWindow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.VirtualWindingWindow.__init__"><code class="docutils literal notranslate"><span class="pre">VirtualWindingWindow.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.VirtualWindingWindow.set_interleaved_winding"><code class="docutils literal notranslate"><span class="pre">VirtualWindingWindow.set_interleaved_winding()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.VirtualWindingWindow.set_winding"><code class="docutils literal notranslate"><span class="pre">VirtualWindingWindow.set_winding()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-logparser-class"><span class="sectnum">4.8 </span>The <code class="docutils literal notranslate"><span class="pre">LogParser</span></code> class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.FEMMTLogParser"><code class="docutils literal notranslate"><span class="pre">FEMMTLogParser</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FEMMTLogParser.__init__"><code class="docutils literal notranslate"><span class="pre">FEMMTLogParser.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FEMMTLogParser.plot_frequency_sweep_losses"><code class="docutils literal notranslate"><span class="pre">FEMMTLogParser.plot_frequency_sweep_losses()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FEMMTLogParser.plot_frequency_sweep_winding_params"><code class="docutils literal notranslate"><span class="pre">FEMMTLogParser.plot_frequency_sweep_winding_params()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.FileData"><code class="docutils literal notranslate"><span class="pre">FileData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.core_2daxi_total_volume"><code class="docutils literal notranslate"><span class="pre">FileData.core_2daxi_total_volume</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.file_path"><code class="docutils literal notranslate"><span class="pre">FileData.file_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.sweeps"><code class="docutils literal notranslate"><span class="pre">FileData.sweeps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.total_core_eddy_losses"><code class="docutils literal notranslate"><span class="pre">FileData.total_core_eddy_losses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.total_core_hyst_losses"><code class="docutils literal notranslate"><span class="pre">FileData.total_core_hyst_losses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.total_core_losses"><code class="docutils literal notranslate"><span class="pre">FileData.total_core_losses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.total_cost"><code class="docutils literal notranslate"><span class="pre">FileData.total_cost</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.FileData.total_winding_losses"><code class="docutils literal notranslate"><span class="pre">FileData.total_winding_losses</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.SweepData"><code class="docutils literal notranslate"><span class="pre">SweepData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.SweepData.core_eddy_losses"><code class="docutils literal notranslate"><span class="pre">SweepData.core_eddy_losses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.SweepData.core_hyst_losses"><code class="docutils literal notranslate"><span class="pre">SweepData.core_hyst_losses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.SweepData.frequency"><code class="docutils literal notranslate"><span class="pre">SweepData.frequency</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.SweepData.winding_losses"><code class="docutils literal notranslate"><span class="pre">SweepData.winding_losses</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.SweepData.windings"><code class="docutils literal notranslate"><span class="pre">SweepData.windings</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.WindingData"><code class="docutils literal notranslate"><span class="pre">WindingData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.active_power"><code class="docutils literal notranslate"><span class="pre">WindingData.active_power</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.apparent_power"><code class="docutils literal notranslate"><span class="pre">WindingData.apparent_power</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.current"><code class="docutils literal notranslate"><span class="pre">WindingData.current</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.flux"><code class="docutils literal notranslate"><span class="pre">WindingData.flux</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.flux_over_current"><code class="docutils literal notranslate"><span class="pre">WindingData.flux_over_current</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.reactive_power"><code class="docutils literal notranslate"><span class="pre">WindingData.reactive_power</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.turns"><code class="docutils literal notranslate"><span class="pre">WindingData.turns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.WindingData.voltage"><code class="docutils literal notranslate"><span class="pre">WindingData.voltage</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#enumerations"><span class="sectnum">4.9 </span><code class="docutils literal notranslate"><span class="pre">Enumerations</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.enumerations"><code class="docutils literal notranslate"><span class="pre">enumerations</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-femmt.functions"><span class="sectnum">4.10 </span>Helper functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.axial_wavelength"><code class="docutils literal notranslate"><span class="pre">axial_wavelength()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.calculate_average"><code class="docutils literal notranslate"><span class="pre">calculate_average()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.calculate_cylinder_volume"><code class="docutils literal notranslate"><span class="pre">calculate_cylinder_volume()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.calculate_quadrature_integral"><code class="docutils literal notranslate"><span class="pre">calculate_quadrature_integral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.calculate_rms"><code class="docutils literal notranslate"><span class="pre">calculate_rms()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.calculate_squared_quadrature_integral"><code class="docutils literal notranslate"><span class="pre">calculate_squared_quadrature_integral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.check_mqs_condition"><code class="docutils literal notranslate"><span class="pre">check_mqs_condition()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.compare_fft_list"><code class="docutils literal notranslate"><span class="pre">compare_fft_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.conductivity_temperature"><code class="docutils literal notranslate"><span class="pre">conductivity_temperature()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.convert_air_gap_corner_points_to_center_and_distance"><code class="docutils literal notranslate"><span class="pre">convert_air_gap_corner_points_to_center_and_distance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.core_database"><code class="docutils literal notranslate"><span class="pre">core_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.cost_function_core"><code class="docutils literal notranslate"><span class="pre">cost_function_core()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.cost_function_total"><code class="docutils literal notranslate"><span class="pre">cost_function_total()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.cost_function_winding"><code class="docutils literal notranslate"><span class="pre">cost_function_winding()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.cost_material_database"><code class="docutils literal notranslate"><span class="pre">cost_material_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.create_folders"><code class="docutils literal notranslate"><span class="pre">create_folders()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.create_open_circuit_excitation_sweep"><code class="docutils literal notranslate"><span class="pre">create_open_circuit_excitation_sweep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.create_physical_group"><code class="docutils literal notranslate"><span class="pre">create_physical_group()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.fft"><code class="docutils literal notranslate"><span class="pre">fft()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.find_common_frequencies"><code class="docutils literal notranslate"><span class="pre">find_common_frequencies()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.find_result_log_file"><code class="docutils literal notranslate"><span class="pre">find_result_log_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_coupling_matrix"><code class="docutils literal notranslate"><span class="pre">get_coupling_matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_dict_with_unique_keys"><code class="docutils literal notranslate"><span class="pre">get_dict_with_unique_keys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_dicts_with_keys_and_values"><code class="docutils literal notranslate"><span class="pre">get_dicts_with_keys_and_values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_flux_linkages_from_log"><code class="docutils literal notranslate"><span class="pre">get_flux_linkages_from_log()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_inductance_matrix"><code class="docutils literal notranslate"><span class="pre">get_inductance_matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_mean_coupling_factors"><code class="docutils literal notranslate"><span class="pre">get_mean_coupling_factors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_number_of_turns_of_winding"><code class="docutils literal notranslate"><span class="pre">get_number_of_turns_of_winding()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.get_self_inductances_from_log"><code class="docutils literal notranslate"><span class="pre">get_self_inductances_from_log()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.hysteresis_current_excitation"><code class="docutils literal notranslate"><span class="pre">hysteresis_current_excitation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.install_pyfemm_if_missing"><code class="docutils literal notranslate"><span class="pre">install_pyfemm_if_missing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.list_to_complex"><code class="docutils literal notranslate"><span class="pre">list_to_complex()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.litz_calculate_number_layers"><code class="docutils literal notranslate"><span class="pre">litz_calculate_number_layers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.litz_calculate_number_strands"><code class="docutils literal notranslate"><span class="pre">litz_calculate_number_strands()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.litz_database"><code class="docutils literal notranslate"><span class="pre">litz_database()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.plot_fourier_coefficients"><code class="docutils literal notranslate"><span class="pre">plot_fourier_coefficients()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.pm_core_inner_diameter_calculator"><code class="docutils literal notranslate"><span class="pre">pm_core_inner_diameter_calculator()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.point_is_in_rect"><code class="docutils literal notranslate"><span class="pre">point_is_in_rect()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.sort_out_small_harmonics"><code class="docutils literal notranslate"><span class="pre">sort_out_small_harmonics()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.store_as_npy_in_directory"><code class="docutils literal notranslate"><span class="pre">store_as_npy_in_directory()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.time_current_vector_to_fft_excitation"><code class="docutils literal notranslate"><span class="pre">time_current_vector_to_fft_excitation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_coupling_factors"><code class="docutils literal notranslate"><span class="pre">visualize_coupling_factors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_flux_linkages"><code class="docutils literal notranslate"><span class="pre">visualize_flux_linkages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_inductance_matrix"><code class="docutils literal notranslate"><span class="pre">visualize_inductance_matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_inductance_matrix_coefficients"><code class="docutils literal notranslate"><span class="pre">visualize_inductance_matrix_coefficients()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_mean_coupling_factors"><code class="docutils literal notranslate"><span class="pre">visualize_mean_coupling_factors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_mean_mutual_inductances"><code class="docutils literal notranslate"><span class="pre">visualize_mean_mutual_inductances()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_mutual_inductances"><code class="docutils literal notranslate"><span class="pre">visualize_mutual_inductances()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_self_inductances"><code class="docutils literal notranslate"><span class="pre">visualize_self_inductances()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_self_resistances"><code class="docutils literal notranslate"><span class="pre">visualize_self_resistances()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.visualize_simulation_results"><code class="docutils literal notranslate"><span class="pre">visualize_simulation_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.wave_vector"><code class="docutils literal notranslate"><span class="pre">wave_vector()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions.wire_material_database"><code class="docutils literal notranslate"><span class="pre">wire_material_database()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-femmt.functions_model"><span class="sectnum">4.11 </span>Model helper functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions_model.define_center_tapped_insulation"><code class="docutils literal notranslate"><span class="pre">define_center_tapped_insulation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-femmt.reluctance"><span class="sectnum">4.12 </span>Reluctance model helper functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.add_column_to_data_matrix"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.add_column_to_data_matrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_single"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.air_gap_reluctance_single()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_single_new"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.air_gap_reluctance_single_new()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_sweep"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.air_gap_reluctance_sweep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_sweep_new"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.air_gap_reluctance_sweep_new()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.calculate_inductance"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.calculate_inductance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.core_reluctance"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.core_reluctance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.get_parameters_position_dict"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.get_parameters_position_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#femmt.reluctance.MagneticCircuit.input_pre_check"><code class="docutils literal notranslate"><span class="pre">MagneticCircuit.input_pre_check()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.reluctance.create_data_matrix"><code class="docutils literal notranslate"><span class="pre">create_data_matrix()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.reluctance.distributed_type_1"><code class="docutils literal notranslate"><span class="pre">distributed_type_1()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.reluctance.distributed_type_2"><code class="docutils literal notranslate"><span class="pre">distributed_type_2()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.reluctance.plot_limitation"><code class="docutils literal notranslate"><span class="pre">plot_limitation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.reluctance.plot_r_basic"><code class="docutils literal notranslate"><span class="pre">plot_r_basic()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-femmt.functions_topologies"><span class="sectnum">4.13 </span>Topology helper functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions_topologies.check_if_primary_conductor_row_fits_in_vww"><code class="docutils literal notranslate"><span class="pre">check_if_primary_conductor_row_fits_in_vww()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions_topologies.create_stacked_winding_windows"><code class="docutils literal notranslate"><span class="pre">create_stacked_winding_windows()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions_topologies.place_center_tapped_conductor_row"><code class="docutils literal notranslate"><span class="pre">place_center_tapped_conductor_row()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions_topologies.place_windings_in_vwws"><code class="docutils literal notranslate"><span class="pre">place_windings_in_vwws()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#femmt.functions_topologies.set_center_tapped_windings"><code class="docutils literal notranslate"><span class="pre">set_center_tapped_windings()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-femmt.constants"><span class="sectnum">4.14 </span>Constants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#developer-notes-for-femmt"><span class="sectnum">5 </span>Developer Notes for FEMMT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#variable-naming"><span class="sectnum">5.1 </span>Variable naming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#geometry-variables"><span class="sectnum">5.1.1 </span>Geometry variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#currents-temperature"><span class="sectnum">5.1.2 </span>currents, temperature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#material-variables"><span class="sectnum">5.1.3 </span>Material variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#winding-creation"><span class="sectnum">5.2 </span>Winding creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#general-file-overview"><span class="sectnum">5.3 </span>General file overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recommended-pycharm-settings"><span class="sectnum">5.4 </span>Recommended Pycharm settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exclude-simulation-directory-from-indexing"><span class="sectnum">5.4.1 </span>Exclude simulation directory from indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#line-length"><span class="sectnum">5.4.2 </span>Line length</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pycharm-code-highlighting-for-pro-files"><span class="sectnum">5.4.3 </span>Pycharm code highlighting for pro-files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lint-check"><span class="sectnum">5.5 </span>Lint check</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-documentation"><span class="sectnum">5.6 </span>Build documentation</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FEM Magnetics Toolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="sectnum">1 </span>FEM Magnetics Toolbox (FEMMT)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/upb-lea/FEM_Magnetics_Toolbox/blob/main/sphinx/source/intro.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fem-magnetics-toolbox-femmt">
<h1><span class="sectnum">1 </span>FEM Magnetics Toolbox (FEMMT)<a class="headerlink" href="#fem-magnetics-toolbox-femmt" title="Link to this heading"></a></h1>
<p>Python toolbox to generate preconfigured figures for FEM simulation tools in power electronics.</p>
<p>The toolbox is accessible via python code or a graphical user interface
(GUI), which current development status is experimental.</p>
<section id="overview-features">
<h2><span class="sectnum">1.1 </span>Overview features<a class="headerlink" href="#overview-features" title="Link to this heading"></a></h2>
<section id="stable-features">
<h3><span class="sectnum">1.1.1 </span>Stable features<a class="headerlink" href="#stable-features" title="Link to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Component features:</dt><dd><ul>
<li><p>2D axi-symmetric cylindrical simplification</p></li>
<li><p><a class="reference external" href="../../femmt/examples/basic_inductor.py">Inductor</a>, <a class="reference external" href="../../femmt/examples/basic_transformer.py">2-winding transformer</a>, <a class="reference external" href="../../femmt/examples/basic_transformer_6_windings.py">n-winding transformer</a></p></li>
<li><p>Arbitrary (distributed) air gap positioning in center leg</p></li>
<li><p>Variety of winding interleaving schemes</p></li>
<li><dl class="simple">
<dt>Special geometries:</dt><dd><ul>
<li><p><a class="reference external" href="../../femmt/examples/basic_transformer_center_tapped.py">Center tapped transformer</a></p></li>
<li><p><a class="reference external" href="../../femmt/examples/basic_transformer_integrated.py">Magnetic shunt</a> (transformer with integrated inductor)</p></li>
<li><p><a class="reference external" href="../../femmt/examples/basic_transformer_stacked.py">Stacked core</a> (transformer with integrated inductor)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Round litz wire</p></li>
<li><p>Round and rectangular solid wires</p></li>
<li><p>Different winding schemes (hexagonal, left/right, top/down, …)</p></li>
<li><p>Parallel connection of solid wires</p></li>
<li><p>Insulation distances (winding2core, winding2winding)</p></li>
<li><p>Many <a class="reference external" href="../../femmt/examples/">examples</a>. to learn and understand FEMMT</p></li>
<li><dl class="simple">
<dt>Databases</dt><dd><ul>
<li><p>Litz wire database</p></li>
<li><p>Core geometry database</p></li>
<li><p>Conductor materials: temperature curves</p></li>
<li><p>Ferrit materials: permeability / permittivity <a class="reference external" href="https://github.com/upb-lea/materialdatabase">material database</a> (datasheets and own measurements)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Solver features:</dt><dd><ul>
<li><p>Implemented using <a class="reference external" href="https://onelab.info/">ONELAB</a></p></li>
<li><p>Current excitation</p></li>
<li><p>Frequency domain solver</p></li>
<li><p>Litz wire loss model for proximity and skin effect (Niyomsatian et al.: Frequency-domain homogenization for impedance characterization of litz-wire transformers in 2-D finite element models)</p></li>
<li><dl class="simple">
<dt>Core loss calculation for real materials (data from material database)</dt><dd><ul>
<li><p>Amplitude dependent loss angle (Local resolution of complex permeability)</p></li>
<li><p>Equivalent permittivity data for eddy current calculations</p></li>
<li><p>Effect of dimensional resonance is considered</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Thermal solver</dt><dd><ul>
<li><p>Thermal conduction (Poisson equation)</p></li>
<li><p>Fixed temperature and isolation boundary conditions</p></li>
<li><p>Verified model for potted core</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Pre/Post processing:</dt><dd><ul>
<li><p>Linear eddy current analysis via input current based FFT</p></li>
<li><p>Pre-visualization of ferrite material (measurement) data interpolation</p></li>
<li><p>Field visualization in gmsh GUI (magnetic flux density, eddy current losses, …)</p></li>
<li><p>Inductance matrix for n-winding transformer</p></li>
<li><p>Transformer equivalent diagrams for 2- and 3-winding transformer</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Optimization:</dt><dd><ul>
<li><p>Parallel computing to speed up simulations (no cpu core limitation)</p></li>
<li><p>Examples for Pareto optimization to adapt to your own optimization problem</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="experimental-features-under-development">
<h3><span class="sectnum">1.1.2 </span>Experimental features (under development)<a class="headerlink" href="#experimental-features-under-development" title="Link to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Component features:</dt><dd><ul>
<li><p>Reluctance module is currently working for a single optimization example and not fully implemented yet.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Solver features:</dt><dd><ul>
<li><p>Time domain solver</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Optimization:</dt><dd><ul>
<li><p>Advanced optimization algorithms by connecting to <a class="reference external" href="https://github.com/optuna/optuna">optuna</a></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>GUI:</dt><dd><ul>
<li><p>Experimental in general</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="planned-features-roadmap-for-202x">
<h3><span class="sectnum">1.1.3 </span>Planned features (Roadmap for 202x)<a class="headerlink" href="#planned-features-roadmap-for-202x" title="Link to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Solver features:</dt><dd><ul>
<li><p>Core loss calculation from non-sinusoidal flux</p></li>
<li><p>Local temperature dependency (currently only lumped temperature assignment, e.g. general temperature for all windings)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="not-supported-features">
<h3><span class="sectnum">1.1.4 </span>Not supported features<a class="headerlink" href="#not-supported-features" title="Link to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Not supported component features:</dt><dd><ul>
<li><p>Toroidal core</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Not supported solver features:</dt><dd><ul>
<li><p>Voltage excitation</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="documentation">
<h2><span class="sectnum">1.2 </span>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h2>
<p>Please have a look at the <a class="reference external" href="https://upb-lea.github.io/FEM_Magnetics_Toolbox/intro.html">documentation</a>. You will find tutorials and a function description.</p>
</section>
<section id="installation">
<h2><span class="sectnum">1.3 </span>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>To run FEMMT python (version 3.10 or above) and onelab is needed.</p>
<section id="onelab-installation">
<h3><span class="sectnum">1.3.1 </span>ONELAB installation<a class="headerlink" href="#onelab-installation" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Go to <a class="reference external" href="https://onelab.info/">https://onelab.info/</a></p></li>
<li><p>Download the Desktop Version for your OS (Windows, Linux or macOS)</p></li>
<li><p>Unpack the software and remember the file path. This will be needed
later when installing FEMMT.</p></li>
</ul>
</section>
<section id="install-femmt">
<h3><span class="sectnum">1.3.2 </span>Install FEMMT<a class="headerlink" href="#install-femmt" title="Link to this heading"></a></h3>
<p>FEMMT can be installed using the python pip package manager.
This is the stable release version (recommended).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">femmt</span>
</pre></div>
</div>
<p>For working with the latest version, refer to the <a class="reference external" href="https://upb-lea.github.io/FEM_Magnetics_Toolbox/intro.html">documentation</a>.</p>
</section>
</section>
<section id="minimal-example">
<h2><span class="sectnum">1.4 </span>Minimal example<a class="headerlink" href="#minimal-example" title="Link to this heading"></a></h2>
<p>This toolbox is able to build a complete FEM simulation from simple
Python code. The following figure shows the Python code on the left and
the corresponding FEM simulation on the right. <img alt="FEMMT_Screenshot" src="_images/FEMMT_Screenshot.png" /></p>
<p>To run a minimal example please have a look at the <a class="reference external" href="../../femmt/examples/">examples</a>.</p>
</section>
<section id="gui-experimental">
<h2><span class="sectnum">1.5 </span>GUI (Experimental)<a class="headerlink" href="#gui-experimental" title="Link to this heading"></a></h2>
<p>There is a first preview for a GUI. Installing this is a bit cumbersome
at first, but will be simplified in the future:</p>
<ul class="simple">
<li><p>Download the complete repository via <code class="docutils literal notranslate"><span class="pre">Code</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">ZIP</span></code> and unpack it.</p></li>
<li><p>Or clone the repository</p></li>
<li><p>Install the development version of femmt using <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.</span></code></p></li>
<li><p>Run python <code class="docutils literal notranslate"><span class="pre">.../path-to_femmt../../femmt/gui/femmt_gui.py</span></code></p></li>
</ul>
<p>Please note, the GUI is experimental.</p>
<p><img alt="femmt_gui_definition" src="_images/femmt_gui_definition.png" /></p>
</section>
<section id="bug-reports">
<h2><span class="sectnum">1.6 </span>Bug Reports<a class="headerlink" href="#bug-reports" title="Link to this heading"></a></h2>
<p>Please use the issues report button within github to report bugs.</p>
</section>
<section id="contributing">
<h2><span class="sectnum">1.7 </span>Contributing<a class="headerlink" href="#contributing" title="Link to this heading"></a></h2>
<p>Pull requests are welcome. For major changes, please open an issue first
to discuss what you would like to change. For contributing, please refer
to this <a class="reference external" href="../../Contributing.rst">section</a>.</p>
</section>
<section id="changelog">
<h2><span class="sectnum">1.8 </span>Changelog<a class="headerlink" href="#changelog" title="Link to this heading"></a></h2>
<p>Find the changelog <a class="reference external" href="../../CHANGELOG.md">here</a>.</p>
</section>
<section id="license">
<h2><span class="sectnum">1.9 </span>License<a class="headerlink" href="#license" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://choosealicense.com/licenses/gpl-3.0/">GPLv3</a></p>
</section>
<section id="history-and-project-status">
<h2><span class="sectnum">1.10 </span>History and project status<a class="headerlink" href="#history-and-project-status" title="Link to this heading"></a></h2>
<p>This project was initially written in matlab using FEMM simulation tool.
It became clear that the project was no longer a small project. The
project should be completely rewritten, because many new complex levels
have been added. To place the project in the open source world, the
programming language python is used.</p>
</section>
<section id="femmt-development-version-for-developers-only">
<h2><span class="sectnum">1.11 </span>FEMMT development version (for developers only)<a class="headerlink" href="#femmt-development-version-for-developers-only" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to make changes to the code of FEMMT (e.g. to fix a bug), you should read this section carefully.</p>
<p>If you simply want to use this toolbox as a user (simulating magnetic components), skip this section.</p>
</div>
<p>This is the latest development version with the latest features. Note:
You may need to install <a class="reference external" href="https://git-scm.com/downloads">git</a>.
Also have a look at the <a class="reference external" href="/developers_notes.md">developers notes</a>.</p>
<p>FEMMT is using the material database. To use the latest version for developing, also install the material database in developer mode. It is important to first install the material database, second install FEMMT. Note the <code class="docutils literal notranslate"><span class="pre">dot</span> <span class="pre">.</span></code> in the following instructions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Folder</span><span class="o">/</span><span class="n">of</span><span class="o">/</span><span class="n">Interest</span><span class="o">/</span><span class="n">materialdatabase</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">upb</span><span class="o">-</span><span class="n">lea</span><span class="o">/</span><span class="n">materialdatabase</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">materialdatabase</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>After the material database has been installed, install FEMMT:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Folder</span><span class="o">/</span><span class="n">of</span><span class="o">/</span><span class="n">Interest</span><span class="o">/</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">upb</span><span class="o">-</span><span class="n">lea</span><span class="o">/</span><span class="n">FEM_Magnetics_Toolbox</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">FEM_Magnetics_Toolbox</span><span class="o">/</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<section id="basics">
<h3><span class="sectnum">1.11.1 </span>Basics<a class="headerlink" href="#basics" title="Link to this heading"></a></h3>
<p>The magnetic component can be an inductor, a transformer, or a
transformer with integrated stray path. The parameterization process is
divided into the following steps:</p>
<ol class="arabic simple">
<li><p>Choose the simulation type, whether it’s frequency domain or time domain simulation,</p></li>
<li><p>set core parameters (geometry, material),</p></li>
<li><p>set air gap parameters (position, height),</p></li>
<li><p>set insulation distances</p></li>
<li><p>set conductor parameters (litz/solid wire),</p></li>
<li><p>start the frequency domain simulation by specifying the given frequencies, currents, and phases, and start the time domain simulation by specifying the given currents, and time parameters.</p></li>
</ol>
<p>Please have a look at the <a class="reference external" href="/femmt/examples/basic_inductor.py">basic_inductor example</a> for frequency domain simulation, and
at the <a class="reference external" href="/femmt/examples/basic_inductor_time_domain.py">basic_inductor_time_domain example</a> for time domain simulation.</p>
<p>The examples contain among other things:</p>
<ul class="simple">
<li><p>Geometries: Coil, transformer, transformer with integrated stray path,</p></li>
<li><p>wire and stranded wire definition,</p></li>
<li><p>air gaps definition,</p></li>
<li><p>excitation with different frequencies, amplitudes and phases for frequency domain simulation, and with amplitudes and time steps for time domain simulation.</p></li>
</ul>
<p>The simulation results can be found in <cite>working_directory/results/result_log_electro_magnetic.json</cite>. Working directory can either be set by the user otherwise it located at <cite>/python-side-packages-path/femmt</cite>.
In it you can find</p>
<ul class="simple">
<li><p>power loss in the core: hysteresis losses and eddy current losses,</p></li>
<li><p>losses per winding and for each individual winding,</p></li>
<li><p>self- and mutual inductances.</p></li>
</ul>
<p>For a more detailed guide on how to create a model, please have a look <a class="reference internal" href="#user-guide-model-creation"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="counting-arrow-system">
<h3><span class="sectnum">1.11.2 </span>Counting arrow system<a class="headerlink" href="#counting-arrow-system" title="Link to this heading"></a></h3>
<p>Defined as depicted here:</p>
<p><img alt="image_counting_arrow_system" src="_images/counting_arrow_system.png" /></p>
</section>
</section>
<section id="id1">
<h2><span class="sectnum">1.12 </span>GUI (Experimental)<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>There is a first preview for a GUI. Installing this is a bit cumbersome
at first, but will be simplified in the future:</p>
<ul class="simple">
<li><p>Download the complete repository via <code class="docutils literal notranslate"><span class="pre">Code</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">ZIP</span></code> and unpack it.</p></li>
<li><p>install the development version of femmt as described above</p></li>
<li><p>run python <code class="docutils literal notranslate"><span class="pre">downloads/path-to_femmt/femmt/gui/femmt_gui.py</span></code></p></li>
</ul>
<p>Please note, the GUI is experimental.</p>
<p><img alt="image_gui_definition" src="_images/femmt_gui_definition.png" /></p>
</section>
</section>
<section id="user-guide-how-to-create-a-femmt-model">
<span id="user-guide-model-creation"></span><h1><span class="sectnum">2 </span>User Guide: How to create a FEMMT model<a class="headerlink" href="#user-guide-how-to-create-a-femmt-model" title="Link to this heading"></a></h1>
<p>This guide explains how a model can be created in femmt and provides all
the necessary information to work with femmt. Many examples for femmt
models can be found in the example folder.</p>
<section id="working-directory">
<h2><span class="sectnum">2.1 </span>Working directory<a class="headerlink" href="#working-directory" title="Link to this heading"></a></h2>
<p>Every femmt model has a working directory which can be set when creating
an instance of the femmt base class called <code class="docutils literal notranslate"><span class="pre">MagneticComponent</span></code>. When
running the simulation many files will be created in the working
directory including the model, mesh and multiple result files. It also
contains the electro_magnetic_log.json which the most important
simulation results (e.g. losses, inductance, …).</p>
<p>Besides the working directory a <code class="docutils literal notranslate"><span class="pre">MagneticComponent</span></code> also needs a
<code class="docutils literal notranslate"><span class="pre">ComponentType</span></code>. Currently this can be ‘<code class="docutils literal notranslate"><span class="pre">Inductor</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">Transformer</span></code>’ or
‘<code class="docutils literal notranslate"><span class="pre">IntegratedTransformer</span></code>’.</p>
<p>This results to the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">femmt</span> <span class="k">as</span> <span class="nn">fmt</span>

<span class="n">geo</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">MagneticComponent</span><span class="p">(</span><span class="n">simulation_type</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">SimulationType</span><span class="o">.</span><span class="n">FreqDomain</span><span class="p">,</span>
                             <span class="n">component_type</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">ComponentType</span><span class="o">.</span><span class="n">Transformer</span><span class="p">,</span> <span class="n">working_directory</span><span class="o">=</span><span class="n">working_directory</span><span class="p">,</span>
                             <span class="n">verbosity</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">Verbosity</span><span class="o">.</span><span class="n">ToConsole</span><span class="p">,</span> <span class="n">is_gui</span><span class="o">=</span><span class="n">is_test</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">simulation_type</span></code> specifies the type of simulation to be performed.</p>
<ul class="simple">
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">FreqDomain</span></code>, indicating a frequency domain simulation.</p></li>
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">TimeDomain</span></code>, indicating a time domain simulations.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">Verbosity</span></code> controls the level of detail in the output.</p>
<ul class="simple">
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">ToConsole</span></code>, all output messages are shown in the commend line .</p></li>
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">ToFile</span></code>, all output messages are written to files.</p></li>
<li><p>If set to <code class="docutils literal notranslate"><span class="pre">Silent</span></code>, no command line outputs are shown.</p></li>
</ul>
<p>This simple feature significantly speeds up simulation time, especially for many automated simulations.</p>
</section>
<section id="creating-a-core">
<h2><span class="sectnum">2.2 </span>Creating a core<a class="headerlink" href="#creating-a-core" title="Link to this heading"></a></h2>
<p>In general, only 2D rotationally symmetric geometries are represented in
FEMMT. Other core shapes must first be converted to a 2D rotationally
symmetric shape. The corresponding values for this (diameter core,
dimensions of the winding window) are taken from the data sheet.
Afterwards, a corresponding geometry is generated automatically.</p>
<p>The following graphics always show only a sectional view of the core
geometry.</p>
<a class="reference internal image-reference" href="_images/geometry_translated.png"><img alt="_images/geometry_translated.png" src="_images/geometry_translated.png" style="width: 800px;" /></a>
<p>After creating a MagneticComponent, a core needs to be created. The core
needs spatial parameters as well as material parameters. The neccessary
spatial parameters are shown in the image below.</p>
<a class="reference internal image-reference" href="_images/geometry_core.png"><img alt="_images/geometry_core.png" src="_images/geometry_core.png" style="width: 800px;" /></a>
<p>Core spatial parameters can be entered manually but FEMMT provides a
database of different practical cores. This database can be accessed
using:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">core_db</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">core_database</span><span class="p">()[</span><span class="s2">&quot;PQ 40/40&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Now the core object can be created and added to the model (geo object)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">core_dimensions</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">dtos</span><span class="o">.</span><span class="n">SingleCoreDimensions</span><span class="p">(</span><span class="n">core_inner_diameter</span><span class="o">=</span><span class="n">core_db</span><span class="p">[</span><span class="s2">&quot;core_inner_diameter&quot;</span><span class="p">],</span>
                                                 <span class="n">window_w</span><span class="o">=</span><span class="n">core_db</span><span class="p">[</span><span class="s2">&quot;window_w&quot;</span><span class="p">],</span>
                                                 <span class="n">window_h</span><span class="o">=</span><span class="n">core_db</span><span class="p">[</span><span class="s2">&quot;window_h&quot;</span><span class="p">],</span>
                                                 <span class="n">core_h</span><span class="o">=</span><span class="n">core_db</span><span class="p">[</span><span class="s2">&quot;core_h&quot;</span><span class="p">])</span>

<span class="n">core</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Core</span><span class="p">(</span><span class="n">core_type</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">CoreType</span><span class="o">.</span><span class="n">Single</span><span class="p">,</span>
                 <span class="n">core_dimensions</span><span class="o">=</span><span class="n">core_dimensions</span><span class="p">,</span>
                 <span class="n">detailed_core_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">material</span><span class="o">=</span><span class="n">mdb</span><span class="o">.</span><span class="n">Material</span><span class="o">.</span><span class="n">N49</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="n">inductor_frequency</span><span class="p">,</span>
                 <span class="n">permeability_datasource</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">MaterialDataSource</span><span class="o">.</span><span class="n">Measurement</span><span class="p">,</span>
                 <span class="n">permeability_datatype</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">MeasurementDataType</span><span class="o">.</span><span class="n">ComplexPermeability</span><span class="p">,</span>
                 <span class="n">permeability_measurement_setup</span><span class="o">=</span><span class="n">mdb</span><span class="o">.</span><span class="n">MeasurementSetup</span><span class="o">.</span><span class="n">LEA_LK</span><span class="p">,</span>
                 <span class="n">permittivity_datasource</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">MaterialDataSource</span><span class="o">.</span><span class="n">Measurement</span><span class="p">,</span>
                 <span class="n">permittivity_datatype</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">MeasurementDataType</span><span class="o">.</span><span class="n">ComplexPermittivity</span><span class="p">,</span>
                 <span class="n">permittivity_measurement_setup</span><span class="o">=</span><span class="n">mdb</span><span class="o">.</span><span class="n">MeasurementSetup</span><span class="o">.</span><span class="n">LEA_LK</span><span class="p">,</span> <span class="n">mdb_verbosity</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">Verbosity</span><span class="o">.</span><span class="n">Silent</span><span class="p">)</span>
<span class="n">geo</span><span class="o">.</span><span class="n">set_core</span><span class="p">(</span><span class="n">core</span><span class="p">)</span>
</pre></div>
</div>
<section id="material-database">
<h3><span class="sectnum">2.2.1 </span>Material database<a class="headerlink" href="#material-database" title="Link to this heading"></a></h3>
<p>The <a class="reference external" href="https://github.com/upb-lea/materialdatabase">material database</a> was already introduced in the upper code example with the <cite>material=</cite> parameter. The temperature as well as the frequency are necessary to pick the corresponding data from the datasheet.</p>
</section>
</section>
<section id="adding-air-gaps-to-the-core">
<h2><span class="sectnum">2.3 </span>Adding air gaps to the core<a class="headerlink" href="#adding-air-gaps-to-the-core" title="Link to this heading"></a></h2>
<p>In the next steps air gaps can be added. Currently it is only possible
to add air gaps in the center leg, there for the ‘AirGapLegPosition’ is
always ‘CenterLeg’. To set the vertical position for a air gap multiple
methods are available:</p>
<ul class="simple">
<li><p><strong>Center</strong>: The air gap will always be positioned in the center</p></li>
<li><p><strong>Percent</strong>: A value between 0 and 100 can be given. Where 0
represents the bottom end and 100 the top end of the winding window.</p></li>
<li><p><strong>Manually</strong>: The specific y-coordinate needs to be entered
manually.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/geometry_air_gap.png"><img alt="_images/geometry_air_gap.png" src="_images/geometry_air_gap.png" style="width: 800px;" /></a>
<p>Have a look at the following example on how to create an air gap object
and add it to the model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">air_gaps</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">AirGaps</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">AirGapMethod</span><span class="o">.</span><span class="n">Percent</span><span class="p">,</span> <span class="n">core</span><span class="o">=</span><span class="n">core</span><span class="p">)</span>
<span class="n">air_gaps</span><span class="o">.</span><span class="n">add_air_gap</span><span class="p">(</span><span class="n">leg_position</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">AirGapLegPosition</span><span class="o">.</span><span class="n">CenterLeg</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.0005</span><span class="p">,</span> <span class="n">position_value</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">geo</span><span class="o">.</span><span class="n">set_air_gaps</span><span class="p">(</span><span class="n">air_gaps</span><span class="p">)</span>
</pre></div>
</div>
<p>Adding an air_gap object is not necessary. If no air gap is needed,
don’t add the air gap object to the model.</p>
</section>
<section id="set-insulation-distances">
<h2><span class="sectnum">2.4 </span>Set insulation distances<a class="headerlink" href="#set-insulation-distances" title="Link to this heading"></a></h2>
<p>There are multiple insulations implemented in femmt. Some of them are
created as rectangles in the model, some are just adding an offset to
the windings.</p>
<p>Core insulations are the insulations which are created as rectangles in
the model. 4 core insulations will be added: top, bottom, left, right.
The distance of those values can be set with the <code class="docutils literal notranslate"><span class="pre">add_core_insulations</span></code>
function. The order of <code class="docutils literal notranslate"><span class="pre">add_core_insulations</span></code> is as follow : top, bottom, left, and right.</p>
<p>Furthermore there are offset insulations between each turn in the same
winding, a distance between 2 windings in one virtual winding window and
a distance between each virtual winding window. The first two are set
using the <code class="docutils literal notranslate"><span class="pre">add_winding_insulations</span></code> functions, the last one when
creating such a <a class="reference internal" href="user_guide_model_creation.html#virtual-winding-windows-label"><span class="std std-ref">Virtual Winding Windows</span></a> (vww) .</p>
<p>The <code class="docutils literal notranslate"><span class="pre">add_winding_insulations</span></code> contains the inner winding insulation, which is a nested lists representing
the insulations between turns of the same winding. Importantly, these values are not arranged according to the
sequence in which conductors are added to each winding. Instead, the organization is based on the winding number
with conductors sorted in ascending order of these numbers. Thus, the first sublist (index 0) corresponds to
the winding with the lowest number, the second sublist (index 1) to the winding with the next lowest number, and so on.</p>
<a class="reference internal image-reference" href="_images/geometry_insulation.png"><img alt="_images/geometry_insulation.png" src="_images/geometry_insulation.png" style="width: 800px;" /></a>
<p>This is how to create an insulation object and add certain insulations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">insulation</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Insulation</span><span class="p">(</span><span class="n">flag_insulation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">insulation</span><span class="o">.</span><span class="n">add_core_insulations</span><span class="p">(</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
<span class="n">insulation</span><span class="o">.</span><span class="n">add_winding_insulations</span><span class="p">([[</span><span class="mf">0.0002</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">],[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.0002</span><span class="p">]])</span>
<span class="n">geo</span><span class="o">.</span><span class="n">set_insulation</span><span class="p">(</span><span class="n">insulation</span><span class="p">)</span>
</pre></div>
</div>
<p>The spatial parameters for the insulation, as well as for every other
function in FEMMT, are always in SI-Units, in this case metres.</p>
</section>
<section id="add-windings-to-the-winding-window">
<h2><span class="sectnum">2.5 </span>Add windings to the winding window<a class="headerlink" href="#add-windings-to-the-winding-window" title="Link to this heading"></a></h2>
<p>In order to understand the way winding windows work in femmt, the
concept of virtual winding windows must be explained:</p>
<section id="virtual-winding-windows">
<span id="virtual-winding-windows-label"></span><h3><span class="sectnum">2.5.1 </span>Virtual Winding Windows<a class="headerlink" href="#virtual-winding-windows" title="Link to this heading"></a></h3>
<p>For every femmt model there is always one winding window, which is a 2D
representation of the 3D rotated winding window. This winding window can
be split into multiple virtual winding windows which are used to draw
the conductors. The <code class="docutils literal notranslate"><span class="pre">split_window</span></code> function has multiple ways to split a winding window into:</p>
<ul class="simple">
<li><p><strong>NoSplit</strong>: Only 1 virtual winding window will be returned and it
has the same size as the real winding window.</p></li>
<li><p><strong>HorizontalSplit</strong>: 2 virtual winding windows will be returned, one
for the top and one for the bottom part. The height of the splitting
line can be set using a horizontal_split_factor (value between 0 and
1)</p></li>
<li><p><strong>VerticalSplit</strong>: 2 virtual winding windows will be returned, one
for the left and one for the right part. The radius (x-coordinate) of
the splitting line can be set using a vertical_split_factor (value
between 0 and 1)</p></li>
<li><p><strong>HorizontalAndVerticalSplit</strong>: 4 virtual winding windows are
returned. One for each corner (in the following order): top_left,
top_right, bottom_left, bottom_right. In this case the horizontal and
vertical split factors can be used to set the sizes of each grid
cell.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/geometry_winding_windows.png"><img alt="_images/geometry_winding_windows.png" src="_images/geometry_winding_windows.png" style="width: 800px;" /></a>
<p>In addition to that 2 virtual winding windows can be combined to one
(this is not possible for (top_left, bottom_right) or (top_right,
bottom_left) combinations). This is done using the combine_vww()
function of the WindingWindow class.</p>
<p>Each virtual winding window can be filled with either one single winding
or one interleaved winding.</p>
<p>A winding window with only one virtual winding window can be craeted
like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">winding_window</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">WindingWindow</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="n">insulation</span><span class="p">)</span>
<span class="n">vww</span> <span class="o">=</span> <span class="n">winding_window</span><span class="o">.</span><span class="n">split_window</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">WindingWindowSplit</span><span class="o">.</span><span class="n">NoSplit</span><span class="p">)</span>
</pre></div>
</div>
<p>Additionally, the <code class="docutils literal notranslate"><span class="pre">NCellsSplit</span></code> function provides even more flexibility, allowing
the winding window to be split into N columns horizontally. The distance
between the virtual winding windows, horizontal split factors, and the
vertical split factor can be specified. A winding window with 12 columns horizontally can be created like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">winding_window</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">WindingWindow</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="n">insulation</span><span class="p">)</span>
<span class="n">cells</span> <span class="o">=</span> <span class="n">winding_window</span><span class="o">.</span><span class="n">NCellsSplit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">6</span><span class="p">],</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>Furthermore, the <code class="docutils literal notranslate"><span class="pre">NHorizontalAndVerticalSplit</span></code> function introduces more advanced splitting capabilities
by allowing the winding window to be split into N columns horizontally,with each having M_N rows (vertically).
Users can specify the positions of borders between columns and rows
to customize the layout of the resulting virtual winding windows. Creating a winding window with three columns,
where the second column is further divided into three rows, can be achieved with the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">winding_window</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">WindingWindow</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="n">insulation</span><span class="p">)</span>
<span class="n">cells</span> <span class="o">=</span> <span class="n">winding_window</span><span class="o">.</span><span class="n">NHorizontalAndVerticalSplit</span><span class="p">(</span><span class="n">horizontal_split_factors</span><span class="o">=</span><span class="p">[</span><span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">],</span>
                                                  <span class="n">vertical_split_factors</span><span class="o">=</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.85</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="winding-types-and-winding-schemes">
<h3><span class="sectnum">2.5.2 </span>Winding types and winding schemes<a class="headerlink" href="#winding-types-and-winding-schemes" title="Link to this heading"></a></h3>
<p>The following table gives an overview of the different winding types,
winding schemes and conductor arrangements:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>WindingType</strong></p></th>
<th class="head"><p><strong>ConductorType</strong></p></th>
<th class="head"><p><strong>WindingScheme</strong></p></th>
<th class="head"><p><strong>ConductorArrangement</strong></p></th>
<th class="head"><p><strong>WrapParaType</strong></p></th>
<th class="head"><p><strong>status</strong></p></th>
<th class="head"><p><strong>description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Interleaved</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Always needs 2 conductors</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>RoundSolid, RoundLitz</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p>Bifilar</p></td>
<td></td>
<td></td>
<td><p>not implemented</p></td>
<td><p>TODO</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>VerticalAlternating</p></td>
<td></td>
<td></td>
<td><p>not implemented</p></td>
<td><p>primary and secondary winding are interleaved vertically (rows)</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p>HorizontalAlternating</p></td>
<td></td>
<td></td>
<td><p>implemented</p></td>
<td><p>primary and secondary winding are interleaved horizontally (cols)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>VerticalStacked</p></td>
<td></td>
<td></td>
<td><p>implemented</p></td>
<td><p>primary winding is drawn bottom to top, seoncdary winmding is drawn top to bottom</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p>Square</p></td>
<td></td>
<td><p>“</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p>Hexagonal</p></td>
<td></td>
<td><p>“</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>RectangularSolid</p></td>
<td></td>
<td></td>
<td></td>
<td><p>not implemented</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Single</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Always needs 1 conductor</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>RoundSolid, RoundLitz</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>None</p></td>
<td></td>
<td></td>
<td><p>implemented</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p>Square</p></td>
<td></td>
<td><p>“</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td><p>Square full width</p></td>
<td></td>
<td><p>“</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p>Hexagonal</p></td>
<td></td>
<td><p>“</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>RectangularSolid</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p>Full</p></td>
<td></td>
<td></td>
<td><p>implemented</p></td>
<td><p>whole virtual winding window contains is filled with one turn</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>FoilHorizontal (stacked)</p></td>
<td></td>
<td></td>
<td><p>implemented</p></td>
<td><p>foils are very long (x-axis) and drawn along y-axis</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td><p>Square full width</p></td>
<td></td>
<td></td>
<td><p>not implemented</p></td>
<td><p>foils are drawn along x-axis first and then along y-axis</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td><p>FoilVertical</p></td>
<td></td>
<td></td>
<td><p>implemented</p></td>
<td><p>foils are very tall (y-axis) and drawn along x-axis</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td></td>
<td><p>Fixed Thickness</p></td>
<td><p>“</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td></td>
<td></td>
<td><p>Interpolate</p></td>
<td><p>“</p></td>
<td></td>
</tr>
</tbody>
</table>
<section id="conductorarrangement">
<h4><span class="sectnum">2.5.2.1 </span>ConductorArrangement<a class="headerlink" href="#conductorarrangement" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Square</strong>: conductors are set in next to each other in a grid</p></li>
<li><p><strong>Hexagonal</strong>: similar to square but in this case the conductors
frpmo the next column slips in the free space between two conductors
from the first column</p></li>
<li><p><strong>Square full width</strong>: conducors are first drawn along x-axis and
then y-axis</p></li>
</ul>
</section>
<section id="wrapparatype">
<h4><span class="sectnum">2.5.2.2 </span>WrapParaType<a class="headerlink" href="#wrapparatype" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Fixed thickness</strong>: TODO</p></li>
<li><p><strong>Interpolate</strong>: TODO</p></li>
</ul>
<p>Images for the possible winding types can be found <a class="reference internal" href="#winding-types"><span class="std std-ref">here</span></a>.</p>
</section>
</section>
</section>
<section id="add-conductors">
<h2><span class="sectnum">2.6 </span>Add conductors<a class="headerlink" href="#add-conductors" title="Link to this heading"></a></h2>
<p>When creating an instance of the class Conductor a winding number and a
conductivity needs to be given:</p>
<p>The winding number represents the index of the winding (e.g. primary-&gt;1,
secondary-&gt;2, tertiary-&gt;3). As an example: When starting a simulation on
a transformer a current needs to be given, this is done in a list. The
first index of the current’s list will be set to the winding with the
lowest winding number, the second index of the list to the winding with
the second lowest winding number and so on.</p>
<p>The conductivity can be set using the Conductivity enum where one of two
possible materials need to be selected:</p>
<ul class="simple">
<li><p><strong>Copper</strong></p></li>
<li><p><strong>Aluminium</strong></p></li>
</ul>
<p>After creating an conductor object it is necessary to add a conductor to
it. As already shown in the winding types table 3 different conducors
can be set:</p>
<ul class="simple">
<li><p><strong>RoundSolid</strong></p></li>
<li><p><strong>RoundLitz</strong></p></li>
<li><p><strong>RectangularSolid</strong></p></li>
</ul>
<p>To create a conductor have a look at the following code example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">winding1</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Conductor</span><span class="p">(</span><span class="n">winding_number</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">conductivity</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">Conductivity</span><span class="o">.</span><span class="n">Copper</span><span class="p">)</span>
<span class="n">winding1</span><span class="o">.</span><span class="n">set_solid_round_conductor</span><span class="p">(</span><span class="n">conductor_radius</span><span class="o">=</span><span class="mf">0.0011</span><span class="p">,</span> <span class="n">conductor_arrangement</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">ConductorArrangement</span><span class="o">.</span><span class="n">Square</span><span class="p">)</span>
</pre></div>
</div>
<section id="add-conductors-to-virtual-winding-windows">
<h3><span class="sectnum">2.6.1 </span>Add conductors to virtual winding windows<a class="headerlink" href="#add-conductors-to-virtual-winding-windows" title="Link to this heading"></a></h3>
<p>Now the conductors need to be added to the virtual winding windows with
the corresponding winding type and winding scheme. In this case the
set_winding() or set_interleaved_winding() function needs to be called.
In the set_interleaved_winding() function an insulation distance can
also be set. This value represents the distance between conductors from
the primary and secondary side.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vww</span><span class="o">.</span><span class="n">set_winding</span><span class="p">(</span><span class="n">winding</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Align</span><span class="o">.</span><span class="n">ToEdges</span><span class="p">,</span> <span class="n">placing_strategy</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">ConductorDistribution</span><span class="o">.</span><span class="n">VerticalUpward_HorizontalRightward</span><span class="p">,</span> <span class="n">zigzag</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>If you have a look at the winding types and winding schemes table a
winding scheme is not needed when creating a round solid conductor in
single winding. Therefore the value is set to None.</p>
<p>In the configuration of single windings using round solid or litz wire conductors,
the focus is on two main aspects: alignment and how the conductors are placed.</p>
<section id="alignment">
<h4><span class="sectnum">2.6.1.1 </span>Alignment<a class="headerlink" href="#alignment" title="Link to this heading"></a></h4>
<p>Alignment pertains to how the set of conductors is positioned within the winding window:</p>
<ul class="simple">
<li><p><strong>Align.ToEdges</strong>: Ensures the outermost conductors are close to the winding window’s edges.</p></li>
<li><p><strong>Align.CenterOnHorizontalAxis</strong>: Center the winding along the window’s horizontal axis, for balanced distribution.</p></li>
<li><p><strong>Align.CenterOnVerticalAxis</strong>: Center the winding along the window’s vertical axis, for balanced distribution.</p></li>
</ul>
</section>
<section id="placement-strategies">
<h4><span class="sectnum">2.6.1.2 </span>Placement Strategies<a class="headerlink" href="#placement-strategies" title="Link to this heading"></a></h4>
<p>The strategy for placing conductors is named based on the initial direction and subsequent movement. It is only applied if the winding type is <code class="docutils literal notranslate"><span class="pre">Single</span></code>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">RoundSolid</span></code> and <code class="docutils literal notranslate"><span class="pre">RoundLitz</span></code> conductors, the placement strategies are as follows:</p>
<ul class="simple">
<li><p><strong>VerticalUpward_HorizontalRightward</strong>: Placement starts at the bottom, moving upward vertically, then shifts rightward horizontally for the next column.</p></li>
<li><p><strong>VerticalUpward_HorizontalLeftward</strong>: Placement starts at the bottom, moving upward vertically, then shifts leftward horizontally for the next column.</p></li>
<li><p><strong>VerticalDownward_HorizontalRightward</strong>: Begins placement from the top, moving downward, with a rightward shift for each new column.</p></li>
<li><p><strong>VerticalDownward_HorizontalLeftward</strong>: Begins placement from the top, moving downward, with a leftward shift for each new column.</p></li>
<li><p><strong>HorizontalRightward_VerticalUpward</strong>: Starts on the left side, moving rightward, then upward for each new row.</p></li>
<li><p><strong>HorizontalRightward_VerticalDownward</strong>: Starts on the left side, moving rightward, then downward for each new row.</p></li>
<li><p><strong>HorizontalLeftward_VerticalUpward</strong>: Starts on the right side, moving leftward, then upward for each new row.</p></li>
<li><p><strong>HorizontalLeftward_VerticalDownward</strong>: Starts on the right side, moving leftward, then downward for each new row.</p></li>
</ul>
<p>For <code class="docutils literal notranslate"><span class="pre">RectangularSolid</span></code> conductors, where the winding scheme is <code class="docutils literal notranslate"><span class="pre">FoilVertical</span></code> or <code class="docutils literal notranslate"><span class="pre">FoilHorizontal</span></code>, the placement strategies are as follows:</p>
<ul class="simple">
<li><p><strong>FoilVerticalDistribution</strong>: These strategies are used when distributing rectangular foil conductors vertically.</p>
<ul>
<li><p><strong>HorizontalRightward</strong>: Begins placement from the left of the winding window, moving horizontally rightward for each conductor.</p></li>
<li><p><strong>HorizontalLeftward</strong>:  Begins placement from the right of the winding window, moving horizontally leftward for each conductor.</p></li>
</ul>
</li>
<li><p><strong>FoilHorizontalDistribution</strong>: These strategies are used when distributing rectangular foil conductors horizontally.</p>
<ul>
<li><p><strong>VerticalUpward</strong>: Begins placement from the bottom of the winding window, moving upward for each conductor.</p></li>
<li><p><strong>VerticalDownward</strong>: Begins placement from the top of the winding window, moving downward for each conductor.</p></li>
</ul>
</li>
</ul>
</section>
<section id="zigzag-condition">
<h4><span class="sectnum">2.6.1.3 </span>Zigzag Condition<a class="headerlink" href="#zigzag-condition" title="Link to this heading"></a></h4>
<p>Zigzag placement introduces an alternating pattern in the layout:</p>
<ul class="simple">
<li><p>After completing a row or column, the direction alternates (e.g., if moving upward initially, the next is downward).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">zigzag</span></code> parameter is optional and defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>. It can be omitted if a zigzag movement is not needed.</p></li>
</ul>
<p>It can only be used for <code class="docutils literal notranslate"><span class="pre">RoundSolid</span></code> and <code class="docutils literal notranslate"><span class="pre">RoundLitz</span></code> conductors when the winding type is <code class="docutils literal notranslate"><span class="pre">Single</span></code>.</p>
<p>Before the simulation, the winding window must be added to the model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geo</span><span class="o">.</span><span class="n">set_winding_windows</span><span class="p">([</span><span class="n">winding_window</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="create-model-and-start-simulation">
<h2><span class="sectnum">2.7 </span>Create model and start simulation<a class="headerlink" href="#create-model-and-start-simulation" title="Link to this heading"></a></h2>
<p>After every needed component is added to the model the model can be
created. This is done using the create_model() function. The frequency
is needed there because of the mesh which is adapted according to the
skin depth. In addition to that a boolean can be given to show the model
after creation (in gmsh).</p>
<p>The last step is to run a simulation using <code class="docutils literal notranslate"><span class="pre">single_simulation()</span></code> or <code class="docutils literal notranslate"><span class="pre">time_domain_simulation</span></code> depending on the
simulation type, where every type needs the following parameters:</p>
<p>For Frequency Domain Simulation: the frequency, currents (and phase if transformer is set) are needed as parameters.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geo</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">inductor_frequency</span><span class="p">,</span> <span class="n">pre_visualize_geometry</span><span class="o">=</span><span class="n">show_visual_outputs</span><span class="p">,</span> <span class="n">save_png</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">geo</span><span class="o">.</span><span class="n">single_simulation</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">inductor_frequency</span><span class="p">,</span> <span class="n">current</span><span class="o">=</span><span class="p">[</span><span class="mf">4.5</span><span class="p">],</span>
                      <span class="n">plot_interpolation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                      <span class="n">show_fem_simulation_results</span><span class="o">=</span><span class="n">show_visual_outputs</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>For Time Domain Simulation: the <code class="docutils literal notranslate"><span class="pre">current_period_vec</span></code> , <code class="docutils literal notranslate"><span class="pre">time_period_vec</span></code> ,and <code class="docutils literal notranslate"><span class="pre">number_of_periods</span></code> are needed as
parameters. Users can generate the <code class="docutils literal notranslate"><span class="pre">current_period_vec</span></code> by creating nested lists, adjusting the structure based on
the number of windings. The <code class="docutils literal notranslate"><span class="pre">time_period_vec</span> <span class="pre">parameter</span> <span class="pre">corresponds</span></code> to a list of time values associated with the
simulation. Additionally, <code class="docutils literal notranslate"><span class="pre">number_of_periods</span></code> specifies the total number of periods to be simulated. The <code class="docutils literal notranslate"><span class="pre">current_period_vec</span></code> as The
<code class="docutils literal notranslate"><span class="pre">show_rolling_average</span> <span class="pre">parameter</span></code> is a boolean flag that determines whether to display or hide the rolling average of simulation
results during the time domain simulation.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geo</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">inductor_frequency</span><span class="p">,</span> <span class="n">pre_visualize_geometry</span><span class="o">=</span><span class="n">show_visual_outputs</span><span class="p">,</span> <span class="n">save_png</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">geo</span><span class="o">.</span><span class="n">time_domain_simulation</span><span class="p">(</span><span class="n">current_period_vec</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
                           <span class="n">time_period_vec</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]</span>
                           <span class="n">number_of_periods</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                           <span class="n">plot_interpolation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                           <span class="n">show_fem_simulation_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                           <span class="n">show_rolling_average</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>                                <span class="n">rolling_avg_window_size</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Gmsh windows open at various points in the simulations, e.g. to display the geometry or simulation results. To continue (e.g. to start the simulation from the geometry view), simply close the window.</p>
</div>
<p>The results should look like this:</p>
<a class="reference internal image-reference" href="_images/user_guide_example_simulation.png"><img alt="_images/user_guide_example_simulation.png" src="_images/user_guide_example_simulation.png" style="width: 350px;" /></a>
</section>
<section id="mesh-customization">
<h2><span class="sectnum">2.8 </span>Mesh Customization<a class="headerlink" href="#mesh-customization" title="Link to this heading"></a></h2>
<p>Understanding and modifying the mesh in FEMMT is crucial for optimizing simulation performance and accuracy.
Below are some practical hints to manually adapt the mesh using the meshing factors for different parts of the model,
such as the core, winding windows (ww), and air gaps.</p>
<section id="conductor-meshing">
<h3><span class="sectnum">2.8.1 </span>Conductor meshing<a class="headerlink" href="#conductor-meshing" title="Link to this heading"></a></h3>
<p>In general, there are two different approaches to mesh wires:</p>
<ul class="simple">
<li><p>for solid conductors, the mesh is adapted according to the skin depth, depending on the frequency. In a frequency sweep, the mesh is generated for the highest frequency.</p></li>
<li><dl class="simple">
<dt>for litz conductors, there is a rough mesh only. There is a pre- and postprocessing according to the following papers:</dt><dd><ul>
<li><p>Niyomsatian, Korawich and Gyselinck, Johan. and Sabariego, Ruth V.: New closed-form proximity-effect complex permeability expression for characterizing litz-wire windings</p></li>
<li><p>Niyomsatian, K and Van den Keybus, J. and Sabariego, R. V. and Gyselinck, J.: Frequency-domain homogenization for litz-wire bundles in finite element calculations</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="manually-adapting-the-mesh">
<h3><span class="sectnum">2.8.2 </span>Manually Adapting the Mesh<a class="headerlink" href="#manually-adapting-the-mesh" title="Link to this heading"></a></h3>
<p>To manually adapt the mesh, the user can adjust the mesh accuracy settings directly in FEMMT setup. These settings control the density of the mesh around
different components of the model:</p>
<ul class="simple">
<li><p><strong>Mesh Accuracy Core</strong>: It affects the density of the mesh around the magnetic core. Decreasing this value increases the mesh density, which can enhance accuracy
at the cost of increased computational time.</p></li>
<li><p><strong>Mesh Accuracy Window</strong>: It controls the mesh density around the winding window.</p></li>
<li><p><strong>Mesh Accuracy Conductor</strong>: It controls the mesh density of the conductors in the winding window. Higher accuracy ensures better representation of conductor
shapes and edges.</p></li>
<li><p><strong>Mesh Accuracy Air Gaps</strong>: It determines the mesh granularity in the air gaps, which can be important for capturing the magnetic field distribution accurately.</p></li>
</ul>
<p>Here’s how the user can customize the mesh accuracies for different components of the magnetic model in Component.py file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">padding</span> <span class="o">=</span> <span class="mf">1.5</span>  <span class="c1"># mesh boundary around the model</span>
<span class="n">mu_0</span> <span class="o">=</span> <span class="mf">4e-7</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>  <span class="c1"># vacuum permeability</span>
<span class="bp">self</span><span class="o">.</span><span class="n">mesh_data</span> <span class="o">=</span> <span class="n">MeshData</span><span class="p">(</span><span class="n">mesh_accuracy_core</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                          <span class="n">mesh_accuracy_window</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                          <span class="n">mesh_accuracy_conductor</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                          <span class="n">mesh_accuracy_air_gaps</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                          <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">,</span>
                          <span class="n">mu0</span><span class="o">=</span><span class="n">mu_0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="viewing-the-mesh-in-gmsh">
<h3><span class="sectnum">2.8.3 </span>Viewing the Mesh in Gmsh<a class="headerlink" href="#viewing-the-mesh-in-gmsh" title="Link to this heading"></a></h3>
<p>To visualize the mesh in Gmsh after it has been generated, there are two ways to view the mesh:</p>
<p><strong>Option 1: Direct Visualization in Gmsh</strong></p>
<ol class="arabic simple">
<li><p>Open the generated model file (.msh) in Gmsh.</p></li>
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">Mesh</span></code> tab in the top menu and select <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">mesh</span></code>.</p></li>
<li><p>Use the mouse wheel to zoom in and out for a detailed view of the mesh.</p></li>
</ol>
<p>The options panel allows users to control the visibility and labeling of these different element types within the meshing
software gmsh as shown in the figure.</p>
<a class="reference internal image-reference" href="_images/msh_panel.png"><img alt="_images/msh_panel.png" src="_images/msh_panel.png" style="width: 500px;" /></a>
<p><strong>Option 2: From the Output Simulation File</strong></p>
<p>For visualizing mesh details from the output simulation file:</p>
<ol class="arabic simple">
<li><p>Double right-click to open the viewing options.</p></li>
<li><p>Navigate to <code class="docutils literal notranslate"><span class="pre">View</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Visibility</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Mesh</span> <span class="pre">Options</span></code>.</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">2D</span> <span class="pre">Element</span> <span class="pre">Edges</span></code> to view the edges of the 2D elements.</p></li>
</ol>
<p>Both options provide insights into how well the different model parts are meshed, which is crucial for ensuring the accuracy of simulation results. The figure
below shows the mesh direct from the simulation output of an inductor.</p>
<a class="reference internal image-reference" href="_images/msh_simulation.png"><img alt="_images/msh_simulation.png" src="_images/msh_simulation.png" style="width: 400px;" /></a>
</section>
</section>
<section id="optional-create-thermal-simulation">
<h2><span class="sectnum">2.9 </span>[Optional] Create thermal simulation<a class="headerlink" href="#optional-create-thermal-simulation" title="Link to this heading"></a></h2>
<p>After running the electromagnetic simulation it is possible to use the
simulation results and the created model and start a thermal simulation.
The thermal simulation will add a case surrounding the previous created
model. At the edge of this case the boundary condition is applied and
the thermal conductivity as well as the dimensions of the case can be
choosen freely. This case is split into 5 parts: top, top right, right,
bot right, bot. For each region a different thermal conductivity and
boundary condition can be set. In order to run thermal a thermal
simulation different values are needed:</p>
<ul class="simple">
<li><p>thermal conductivity dict: A dictionary containing thermal
conductivities for each region. The regions are: air, core, winding,
air_gaps, insulation, case (which is split in top, top_right, right,
bot_right, bot</p></li>
<li><p>case gap values: Set the size of the surrounding case</p></li>
<li><p>boundary temperatures dict: The temperatures which will be applied at
the edge of the case (dirichlet boundary condition)</p></li>
<li><p>boundary flags: By disabling a specific boundary its condition can be
set to a neumann boundary condition ignoring the temperature
parameter</p></li>
</ul>
<a class="reference internal image-reference" href="_images/geometry_thermal.png"><img alt="_images/geometry_thermal.png" src="_images/geometry_thermal.png" style="width: 800px;" /></a>
<p>Have a look at this example on how to set the parameters since the
dictionary keywords are important to write correctly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">thermal_conductivity_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;air&quot;</span><span class="p">:</span> <span class="mf">0.0263</span><span class="p">,</span>
        <span class="s2">&quot;case&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="mf">0.122</span><span class="p">,</span>
            <span class="s2">&quot;top_right&quot;</span><span class="p">:</span> <span class="mf">0.122</span><span class="p">,</span>
            <span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="mf">0.122</span><span class="p">,</span>
            <span class="s2">&quot;bot_right&quot;</span><span class="p">:</span> <span class="mf">0.122</span><span class="p">,</span>
            <span class="s2">&quot;bot&quot;</span><span class="p">:</span> <span class="mf">0.122</span>
        <span class="p">},</span>
        <span class="s2">&quot;core&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s2">&quot;winding&quot;</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
        <span class="s2">&quot;air_gaps&quot;</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span>
        <span class="s2">&quot;insulation&quot;</span><span class="p">:</span> <span class="mf">0.42</span> <span class="k">if</span> <span class="n">flag_insulation</span> <span class="k">else</span> <span class="kc">None</span>
<span class="p">}</span>

<span class="n">case_gap_top</span> <span class="o">=</span> <span class="mf">0.002</span>
<span class="n">case_gap_right</span> <span class="o">=</span> <span class="mf">0.0025</span>
<span class="n">case_gap_bot</span> <span class="o">=</span> <span class="mf">0.002</span>

<span class="n">boundary_temperatures</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;value_boundary_top&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;value_boundary_top_right&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;value_boundary_right_top&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;value_boundary_right&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;value_boundary_right_bottom&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;value_boundary_bottom_right&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="s2">&quot;value_boundary_bottom&quot;</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">}</span>

<span class="n">boundary_flags</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;flag_boundary_top&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;flag_boundary_top_right&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;flag_boundary_right_top&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;flag_boundary_right&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;flag_boundary_right_bottom&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;flag_boundary_bottom_right&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;flag_boundary_bottom&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the boundary_flags dictionary 2 flags are set to 0 which means there
will be a neumann boundary applied. Please have a look at the picture
above which shows the current selected boundaries.</p>
<p>In the following table a possible set of thermal conductivities can be
found:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Material</strong></p></td>
<td><p><strong>Thermal conductivity</strong></p></td>
</tr>
<tr class="row-even"><td><p>air (background)</p></td>
<td><p>0.0263</p></td>
</tr>
<tr class="row-odd"><td><p>epoxy resign (used in case)</p></td>
<td><p>1.54</p></td>
</tr>
<tr class="row-even"><td><p>ferrite (core)</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>copper (winding)</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-even"><td><p>aluminiumnitride (air gaps)</p></td>
<td><p>180</p></td>
</tr>
<tr class="row-odd"><td><p>polyethylen (insulation)</p></td>
<td><p>0.42</p></td>
</tr>
</tbody>
</table>
<p>The thermal simulation will solve the stationary heat equation and since
no convection is considered every material is assumed to be solid. Now
the simulation can be run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geo</span><span class="o">.</span><span class="n">thermal_simulation</span><span class="p">(</span><span class="n">thermal_conductivity_dict</span><span class="p">,</span> <span class="n">boundary_temperatures</span><span class="p">,</span> <span class="n">boundary_flags</span><span class="p">,</span> <span class="n">case_gap_top</span><span class="p">,</span>
                            <span class="n">case_gap_right</span><span class="p">,</span> <span class="n">case_gap_bot</span><span class="p">,</span> <span class="n">show_thermal_visual_outputs</span><span class="p">,</span>
                            <span class="n">color_scheme</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">colors_ba_jonas</span><span class="p">,</span> <span class="n">colors_geometry</span><span class="o">=</span><span class="n">fmt</span><span class="o">.</span><span class="n">colors_geometry_ba_jonas</span><span class="p">,</span>
                            <span class="n">flag_insulation</span><span class="o">=</span><span class="n">flag_insulation</span><span class="p">)</span>
</pre></div>
</div>
<p>The following image shows the simulation results:</p>
<a class="reference internal image-reference" href="_images/user_guide_example_thermal_simulation.png"><img alt="_images/user_guide_example_thermal_simulation.png" src="_images/user_guide_example_thermal_simulation.png" style="width: 350px;" /></a>
</section>
<section id="how-to-read-the-result-log">
<h2><span class="sectnum">2.10 </span>How to Read the Result Log<a class="headerlink" href="#how-to-read-the-result-log" title="Link to this heading"></a></h2>
<p>After completing a simulation, the simulation results folder can be found in  <cite>working_directory/results/</cite>. Inside this folder <code class="docutils literal notranslate"><span class="pre">results</span></code>,
the user can find the <code class="docutils literal notranslate"><span class="pre">log_electro_magnetic.json</span></code> and <code class="docutils literal notranslate"><span class="pre">results_thermal.json</span></code> files.</p>
<ul class="simple">
<li><p><strong>results/log_electro_magnetic.json</strong>: This file provides comprehensive details on the
electromagnetic aspects of the simulation. It includes information on magnetic flux,
currents, voltages, losses, and other key electromagnetic parameters, facilitating a deep
understanding of the electromagnetic performance of the simulated system.</p></li>
<li><p><strong>results/results_thermal.json</strong>: This file encapsulates the outcomes of thermal analysis,
presenting details on the temperatures observed across core components, windings, and insulation
materials. It quantifies the minimum, maximum, and mean temperatures for each identified section, offering
a comprehensive view of thermal results.</p></li>
</ul>
<p>Following table gives an overview over the units of the parameters:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Name:</strong></p></td>
<td><p>Frequency</p></td>
<td><p>Power Loss</p></td>
<td><p>Magnetic Flux</p></td>
<td><p>Voltage</p></td>
<td><p>Current</p></td>
<td><p>Inductance</p></td>
<td><p>Resistance</p></td>
</tr>
<tr class="row-even"><td><p><strong>Unit:</strong></p></td>
<td><p>Hertz</p></td>
<td><p>Watt</p></td>
<td><p>Weber</p></td>
<td><p>Volt</p></td>
<td><p>Ampere</p></td>
<td><p>Henry</p></td>
<td><p>Ohm</p></td>
</tr>
</tbody>
</table>
<section id="example-result-log">
<h3><span class="sectnum">2.10.1 </span>Example Result Log<a class="headerlink" href="#example-result-log" title="Link to this heading"></a></h3>
<p>In this subsection, showcase examples of result logs generated from simulations are shown in two distinct domains:
the frequency domain and the time domain. Each domain provides unique insights into the system’s behavior.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li><p>The values provided in result log are calculated using peak values, not RMS values.</p></li>
</ul>
<section id="log-electro-magnetic-json-file-in-frequency-domain">
<h4><span class="sectnum">2.10.1.1 </span>log_electro_magnetic.json File in Frequency Domain<a class="headerlink" href="#log-electro-magnetic-json-file-in-frequency-domain" title="Link to this heading"></a></h4>
<p>Here is an example of how the outcomes of frequency domain simulation are structured.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;single_sweeps&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;f&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;winding1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;turn_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;...&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;flux&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">6.34870443074174e-06</span><span class="p">,</span><span class="w"> </span><span class="mf">-6.969982393761393e-07</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;flux_over_current&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">3.17434773053773e-06</span><span class="p">,</span><span class="w"> </span><span class="mf">-3.51948446513906e-07</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;V&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.8845429232083418</span><span class="p">,</span><span class="w"> </span><span class="mf">7.978006008157411</span><span class="p">],</span>
<span class="w">        </span><span class="s2">&quot;...&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;winding2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;...&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;core_eddy_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00050908155779138</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;core_hyst_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.16018326710339</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;core_parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;core_part_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;eddy_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09956183619015413</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;hyst_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.16018326710339</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;total_core_part_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.259745103293544</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="nt">&quot;...&quot;</span>
<span class="w">      </span><span class="nt">&quot;all_winding_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5355581006243983</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;total_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;winding1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5355581006244025</span><span class="p">,</span>
<span class="w">       </span><span class="nt">&quot;turns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;...&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nt">&quot;all_windings&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5355581006243983</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;eddy_core&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09956183619015413</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hyst_core_fundamental_freq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.16018326710339</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_core_part_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.259745103293544</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_eddy_core_part_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09956183619015413</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_hyst_core_part_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.16018326710339</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;core&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.259745103293544</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.7953032039179426</span>
<span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Key Components Explained:</strong></p>
<ul>
<li><p><strong>single_sweeps</strong>: This array contains data for each frequency sweep performed during the simulation.
Each entry in the array represents a set of results for a specific frequency.</p>
<ul class="simple">
<li><p><strong>f</strong>: The frequency at which the sweep was conducted.</p></li>
<li><p><strong>winding1</strong> and <strong>winding2</strong>: These sections provide detailed results for each winding, including:</p>
<ul>
<li><p><strong>turn_losses</strong>: The power losses (consisting of DC-, Proximity- and Skin-losses) in each turn of the winding.</p></li>
<li><p><strong>flux</strong>: The magnetic flux linked with the winding. The array
contains two values, representing the real and imaginary parts of the flux, respectively.</p></li>
<li><p><strong>flux_over_current</strong>: This metric signifies the flux linkage per unit of current and is presented as a complex number,
comprising both real and imaginary components.</p>
<ul>
<li><p>The <strong>real part</strong> of this value denotes the inductance, reflecting the system’s capacity to store energy within a
magnetic field generated by the current through the winding.</p></li>
<li><p>The <strong>imaginary part</strong>, initially referred to as “negative resistance”, more aptly relates to the reactive characteristics
or the phase shift between the current and magnetic flux linkage.</p></li>
</ul>
</li>
<li><p><strong>V</strong>: Voltage across the winding, with the first value indicating the real part and the second the imaginary part.</p></li>
<li><p><strong>I</strong>: Current through the winding, with similar representation to voltage.</p></li>
</ul>
</li>
<li><p><strong>core_eddy_losses</strong> and <strong>core_hyst_losses</strong>: These values represent the losses due to eddy currents and hysteresis in the core.</p></li>
<li><p><strong>core_parts</strong>: It provides a detailed breakdown of losses within each segmented part of the core, as the core is divided sometimes
into multiple parts. This segmentation is particularly useful for identifying how different sections of the core contribute
to the overall eddy current and hysteresis losses, allowing for more targeted improvements in core design and material selection.</p>
<ul>
<li><p><strong>eddy_losses</strong>: Quantifies the losses due to eddy currents for the specific part.</p></li>
<li><p><strong>hyst_losses</strong>: Quantifies the losses due to hysteresis for the specific part.</p></li>
<li><p><strong>total_core_part_n</strong>: The sum of <strong>eddy_losses</strong> and <strong>hyst_losses</strong> for the part, providing a total loss figure for that segment.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>total_losses</strong>: This section summarizes the overall energy dissipation within the system, combining losses from
various components. It is broken down into several key areas:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>all_windings</strong>: It aggregates the losses across all windings in the system.</p></li>
<li><p><strong>core</strong>: This aggregates the losses from all individual segments within the core <code class="docutils literal notranslate"><span class="pre">total_core_part_1</span></code>, <code class="docutils literal notranslate"><span class="pre">total_core_part_2</span></code>,.. etc,
providing a comprehensive view of the core’s total contribution to the system’s losses.</p></li>
<li><p><strong>total_losses</strong>: it represents the sum of all losses within the system, including windings and core.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="log-electro-magnetic-json-file-in-time-domain">
<h4><span class="sectnum">2.10.1.2 </span>log_electro_magnetic.json File in Time Domain<a class="headerlink" href="#log-electro-magnetic-json-file-in-time-domain" title="Link to this heading"></a></h4>
<p>Here is an example of how the outcomes of time domain simulation are structured.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;time_domain_simulation&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;f&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;T&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1e-05</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Timemax&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.25e-05</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;number_of_steps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;dt&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5e-06</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;step_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;windings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;winding1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;number_turns&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;flux&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">-7.209142581890734e-06</span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;V&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">-2.892335944263035</span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;I&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;winding2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s2">&quot;...&quot;</span><span class="w"> </span><span class="p">}}}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">     </span><span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;average_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;core_eddy_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.00037330739608363716</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;core_hyst_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;winding1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;winding_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2578033060966147</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;flux_over_current&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">6.703043813058433e-06</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;average_current&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.4</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;average_voltage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1.8009901071754213</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;P&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7203960428701686</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;S&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4.5274565545301515</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Q&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">4.469775429993662</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;winding2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;total_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;all_windings_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.511429275334878</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;eddy_core&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00037330739608363716</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;core&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00037330739608363716</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_losses&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5118025827309616</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Key Components Explained:</strong></p>
<ul class="simple">
<li><p><strong>time_domain_simulation</strong>: An array capturing simulation steps over time, including initial setup and individual time steps.</p>
<ul>
<li><p>The initial setup specifies the simulation frequency (<strong>f</strong>), period (<strong>T</strong>), maximum time (<strong>Timemax</strong>), total number of steps
(<strong>number_of_steps</strong>), and time increment (<strong>dt</strong>).</p></li>
<li><p><strong>step_1</strong> and subsequent steps detail the state of windings at specific times. For example, in <strong>step_1</strong>, <strong>winding1</strong> shows:</p>
<ul>
<li><p><strong>number_turns</strong>: Number of turns in the winding.</p></li>
<li><p><strong>flux</strong>: Magnetic flux through the winding observed in step_1.</p></li>
<li><p><strong>V</strong>: Voltage across the winding observed in step_1.</p></li>
<li><p><strong>I</strong>: Current through the winding observed in step_1.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>average_losses</strong>: It captures averaged losses over the simulation period, such as <strong>core_eddy_losses</strong>, <strong>core_hyst_losses</strong>,
and detailed losses per winding (<strong>winding1</strong>, <strong>winding2</strong>). The average current, voltage, active power (P), apparent power (S),
and reactive power(Q) are also calculated.</p></li>
<li><p><strong>total_losses</strong>: It aggregates all losses within the system, including <strong>all_windings_losses</strong>, <strong>eddy_core</strong> losses, and total
losses (<strong>total_losses</strong>), providing a total view of losses.</p></li>
</ul>
</section>
<section id="results-thermal-json-file">
<h4><span class="sectnum">2.10.1.3 </span>results_thermal.json File<a class="headerlink" href="#results-thermal-json-file" title="Link to this heading"></a></h4>
<p>This section provides an overview and analysis of thermal data, including temperature-related metrics obtained from the electromagnetic
simulation. The outcomes of thermal simulation are structured as:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;core_parts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;core_part_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">20.48340546242281</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">30.82746116029882</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;mean&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">26.775625696609733</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">20.48340546242281</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">30.82746116029882</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;mean&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">26.775625696609733</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;windings&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;winding_0_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;winding_0_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;winding_0_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;winding_1_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;winding_1_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;winding_1_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;...&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;misc&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;case_volume&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00017214993340642786</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;case_weight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;insulations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">20.57984040880558</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">34.82921229676766</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;mean&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">27.465726650615863</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Detailed Overview:</strong></p>
<p>All temperature values mentioned are in degrees Celsius (°C).</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>core_parts</strong>: This section provides temperature data for different core parts. For instance, for <strong>core_part_1</strong>:</dt><dd><ul>
<li><p><strong>min</strong>: Minimum temperature observed.</p></li>
<li><p><strong>max</strong>: Maximum temperature observed.</p></li>
<li><p><strong>mean</strong>: Mean temperature calculated over the simulation.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>total</strong> under <strong>core_parts</strong> aggregates the temperature data for all core parts, providing an overview of the entire core’s thermal behavior.</p></li>
<li><dl class="simple">
<dt><strong>windings</strong>: The <strong>windings</strong> section presents temperature data for individual windings, where each winding is identified by a combination of winding number and turn number (e.g., <strong>winding_0_0</strong>, <strong>winding_0_1</strong>, etc.). Each winding entry includes:</dt><dd><ul>
<li><p><strong>min</strong>: Minimum temperature observed.</p></li>
<li><p><strong>max</strong>: Maximum temperature observed.</p></li>
<li><p><strong>mean</strong>: Mean temperature calculated during the simulation.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>total</strong> under <strong>windings</strong> summarizes temperature characteristics across all windings.</p></li>
<li><p><strong>misc</strong>: The <strong>misc</strong> section includes additional thermal information, such as:
- <strong>case_volume</strong>: Volume-related data.
- <strong>case_weight</strong>: Weight-related data.</p></li>
<li><dl class="simple">
<dt><strong>insulations</strong>: The <strong>insulations</strong> section provides insights into insulation-related temperature metrics. It includes:</dt><dd><ul>
<li><p><strong>min</strong>: Minimum insulation temperature observed.</p></li>
<li><p><strong>max</strong>: Maximum insulation temperature observed.</p></li>
<li><p><strong>mean</strong>: Mean insulation temperature calculated over the simulation.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
</section>
<section id="warnings-and-failures">
<h2><span class="sectnum">2.11 </span>Warnings and Failures<a class="headerlink" href="#warnings-and-failures" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Volumetric mass density not implemented for custom cores. Returns ‘0’ in log-file: Core cost will also result to 0.</p>
</div>
<p>As custom cores materials are e.g. ferrite, iron or even a fictive material, calculation with a fixed mass density
does not make sense. So, weight (and also core costs) are set to zero in the result log.</p>
</section>
</section>
<section id="winding-types">
<span id="id3"></span><h1><span class="sectnum">3 </span>Winding types<a class="headerlink" href="#winding-types" title="Link to this heading"></a></h1>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>Single_Square</strong></p></td>
<td><p><strong>Single Hexagonal</strong></p></td>
<td><p><strong>Single Full</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/Single_Square.png"><img alt="image0" src="_images/Single_Square.png" style="width: 250px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/Single_Hexagonal.png"><img alt="image1" src="_images/Single_Hexagonal.png" style="width: 250px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/Single_Full.png"><img alt="image2" src="_images/Single_Full.png" style="width: 250px;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Single_SquareFullWidth</strong></p></td>
<td><p><strong>Single FoilHorizontal</strong></p></td>
<td><p><strong>Single FoilVertical (fixed thickness)</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/Single_SquareFullWidth.png"><img alt="image3" src="_images/Single_SquareFullWidth.png" style="width: 250px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/Single_FoilHorizontal.png"><img alt="image4" src="_images/Single_FoilHorizontal.png" style="width: 250px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/Single_FoilVertical_fixed_thickness.png"><img alt="image5" src="_images/Single_FoilVertical_fixed_thickness.png" style="width: 250px;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Single FoilVertical (interpolate)</strong></p></td>
<td><p><strong>Interleaved HorizontalAlternating</strong></p></td>
<td><p><strong>Interleaved VerticalStacked (square)</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/Single_FoilVertical_interpolate.png"><img alt="image6" src="_images/Single_FoilVertical_interpolate.png" style="width: 250px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/Interleaved_HorizontalAlternating.png"><img alt="image7" src="_images/Interleaved_HorizontalAlternating.png" style="width: 250px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/Interleaved_VerticalStacked_square.png"><img alt="image8" src="_images/Interleaved_VerticalStacked_square.png" style="width: 250px;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Interleaved VerticalStacked (hexagonal)</strong></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_images/Interleaved_VerticalStacked_hexagonal.png"><img alt="image9" src="_images/Interleaved_VerticalStacked_hexagonal.png" style="width: 250px;" /></a></p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="femmt-class-and-function-documentation">
<h1><span class="sectnum">4 </span>FEMMT class and function documentation<a class="headerlink" href="#femmt-class-and-function-documentation" title="Link to this heading"></a></h1>
<section id="the-magneticcomponent-class">
<h2><span class="sectnum">4.1 </span>The <code class="docutils literal notranslate"><span class="pre">MagneticComponent</span></code> class<a class="headerlink" href="#the-magneticcomponent-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.MagneticComponent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">MagneticComponent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simulation_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SimulationType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulationType.FreqDomain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ComponentType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ComponentType.Inductor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean_previous_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Verbosity</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_gui</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wwr_enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent" title="Link to this definition"></a></dt>
<dd><p>A MagneticComponent is the main object for all simulation purposes in femmt.</p>
<ul class="simple">
<li><p>One or more “MagneticComponents” can be created</p></li>
<li><p>Each “MagneticComponent” owns its own instance variable values</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simulation_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SimulationType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SimulationType.FreqDomain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ComponentType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ComponentType.Inductor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">working_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean_previous_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Verbosity</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_gui</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wwr_enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the magnetic component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_type</strong> (<em>ComponentType</em>) – Available options:
- “inductor”
- “transformer”
- “integrated_transformer” (Transformer with included stray-path)</p></li>
<li><p><strong>working_directory</strong> (<em>string</em>) – Sets the working directory</p></li>
<li><p><strong>is_gui</strong> (<em>bool</em>) – Asks at first startup for onelab-path. Distinction between GUI and command line.
Defaults to ‘False’ in command-line-mode.</p></li>
<li><p><strong>simulation_name</strong> (<em>str</em>) – name without any effect. Will just be displayed in the result-log file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.create_model">
<span class="sig-name descname"><span class="pre">create_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skin_mesh_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_visualize_geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ff.colors_femmt_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors_geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ff.colors_geometry_femmt_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.create_model" title="Link to this definition"></a></dt>
<dd><p>Create a model from the abstract geometry description inside onelab including optional mesh generation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>float</em>) – Frequency [Hz]</p></li>
<li><p><strong>skin_mesh_factor</strong> (<em>float</em>) – [default to 0.5]</p></li>
<li><p><strong>pre_visualize_geometry</strong> (<em>bool</em>) – True for a pre-visualisation (e.g. check your geometry) and after this a
simulation runs, False for a direct simulation</p></li>
<li><p><strong>save_png</strong> (<em>bool</em>) – True to save a png-figure, false for no figure</p></li>
<li><p><strong>color_scheme</strong> (<em>Dict</em>) – color file (definition for red, green, blue, …)</p></li>
<li><p><strong>colors_geometry</strong> (<em>Dict</em>) – definition for e.g. core is grey, winding is orange, …</p></li>
<li><p><strong>benchmark</strong> (<em>bool</em>) – Benchmark simulation (stop time). Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.excitation_sweep">
<span class="sig-name descname"><span class="pre">excitation_sweep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_list_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_deg_list_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_last_fem_simulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excitation_meshing_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ExcitationMeshingType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skin_mesh_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visualize_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_png</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ff.colors_femmt_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors_geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ff.colors_geometry_femmt_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inductance_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_hyst_loss</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.MagneticComponent.excitation_sweep" title="Link to this definition"></a></dt>
<dd><p>Perform a sweep simulation for frequency-current pairs.</p>
<p>Both values can be passed in lists of the same length. The mesh is only created ones (fast sweep)!</p>
<dl class="field-list simple">
<dt class="field-odd">Example Code for Inductor<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">femmt</span> <span class="k">as</span> <span class="nn">fmt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">30000</span><span class="p">,</span> <span class="mi">60000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">150000</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amplitude_list_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phase_list_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo</span><span class="o">.</span><span class="n">excitation_sweep</span><span class="p">(</span><span class="n">frequency_list</span><span class="o">=</span><span class="n">fs_list</span><span class="p">,</span> <span class="n">current_list_list</span><span class="o">=</span><span class="n">amplitude_list_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">phi_deg_list_list</span><span class="o">=</span><span class="n">phase_list_list</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Example Code for Transformer with 2 windings<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">femmt</span> <span class="k">as</span> <span class="nn">fmt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">30000</span><span class="p">,</span> <span class="mi">60000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">150000</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amplitude_list_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phase_list_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">170</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">180</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">190</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">210</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">220</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo</span><span class="o">.</span><span class="n">excitation_sweep</span><span class="p">(</span><span class="n">frequency_list</span><span class="o">=</span><span class="n">fs_list</span><span class="p">,</span> <span class="n">current_list_list</span><span class="o">=</span><span class="n">amplitude_list_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">phi_deg_list_list</span><span class="o">=</span><span class="n">phase_list_list</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency_list</strong> (<em>List</em>) – Frequency in a list</p></li>
<li><p><strong>current_list_list</strong> (<em>List</em>) – current amplitude, must be a list in a list, see example!</p></li>
<li><p><strong>phi_deg_list_list</strong> (<em>List</em>) – phase in degree, must be a list in a list, see example!</p></li>
<li><p><strong>show_last_fem_simulation</strong> (<em>bool</em>) – shows last simulation in gmsh if set to True</p></li>
<li><p><strong>visualize_before</strong> (<em>bool</em>) – show genarated mesh before the simulation is run</p></li>
<li><p><strong>color_scheme</strong> (<em>Dict</em>) – colorfile (definition for red, green, blue, …)</p></li>
<li><p><strong>colors_geometry</strong> (<em>Dict</em>) – definition for e.g. core is grey, winding is orange, …</p></li>
<li><p><strong>save_png</strong> (<em>bool</em>) – True to save a .png</p></li>
<li><p><strong>inductance_dict</strong> (<em>Dict</em>) – result dictionary from get_inductances()-function</p></li>
<li><p><strong>core_hyst_loss</strong> (<em>List</em>) – List with hysteresis list. If given, the hysteresis losses in this function be
overwritten in the result log.</p></li>
<li><p><strong>excitation_meshing_type</strong> (<em>ExcitationMeshingType</em>) – MeshOnlyLowestFrequency / MeshOnlyHighestFrequency / MeshEachFrequency</p></li>
<li><p><strong>skin_mesh_factor</strong> (<em>float</em>) – Define the fineness of the mesh</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.femm_reference">
<span class="sig-name descname"><span class="pre">femm_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sign</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_visualize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mesh_size_conductor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.femm_reference" title="Link to this definition"></a></dt>
<dd><p>Allow reference simulations with the 2D open source electromagnetic FEM tool FEMM.</p>
<p>Helpful to validate changes (especially in the Prolog Code).
Blockprop &lt;–&gt; Group Convention:</p>
<blockquote>
<div><p>Ferrite := 0
Air := 1
Winding 1 := 2
Winding 2 := 3
…
Winding n := n+1</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sign</strong></p></li>
<li><p><strong>non_visualize</strong> (<em>int</em>) – Open FEMM or not</p></li>
<li><p><strong>freq</strong> (<em>float</em>) – Frequency in Hz</p></li>
<li><p><strong>current</strong> (<em>float</em>) – Current in A</p></li>
<li><p><strong>mesh_size</strong> (<em>float</em>) – Mesh size</p></li>
<li><p><strong>mesh_size_conductor</strong> (<em>float</em>) – Conductor mesh size</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.femm_thermal_validation">
<span class="sig-name descname"><span class="pre">femm_thermal_validation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thermal_conductivity_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_gap_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_gap_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_gap_bot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.femm_thermal_validation" title="Link to this definition"></a></dt>
<dd><p>Create a thermal model in femm and simulates it with the given thermal conductivities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thermal_conductivity_dict</strong> (<em>Dict</em>) – Dict containing conductivities for air, winding, case, core</p></li>
<li><p><strong>boundary_temperature</strong> (<em>Dict</em>) – Dict containing temperatures on boundary lines</p></li>
<li><p><strong>case_gap_top</strong> (<em>float</em>) – Length top case</p></li>
<li><p><strong>case_gap_right</strong> (<em>float</em>) – Length right case</p></li>
<li><p><strong>case_gap_bot</strong> (<em>float</em>) – Length bot case</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.mesh">
<span class="sig-name descname"><span class="pre">mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skin_mesh_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.mesh" title="Link to this definition"></a></dt>
<dd><p>Generate model and mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency</strong> (<em>float</em><em>, </em><em>optional</em>) – Frequency used in the mesh density, defaults to None</p></li>
<li><p><strong>skin_mesh_factor</strong> (<em>float</em><em>, </em><em>optional</em>) – Used in the mesh density, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.set_air_gaps">
<span class="sig-name descname"><span class="pre">set_air_gaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">air_gaps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.AirGaps" title="femmt.model.AirGaps"><span class="pre">AirGaps</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.set_air_gaps" title="Link to this definition"></a></dt>
<dd><p>Add the air_gaps to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>air_gaps</strong> (<a class="reference internal" href="#femmt.AirGaps" title="femmt.AirGaps"><em>AirGaps</em></a>) – AirGaps object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.set_core">
<span class="sig-name descname"><span class="pre">set_core</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Core" title="femmt.model.Core"><span class="pre">Core</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.set_core" title="Link to this definition"></a></dt>
<dd><p>Add the core to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>core</strong> (<a class="reference internal" href="#femmt.Core" title="femmt.Core"><em>Core</em></a>) – Core object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.set_insulation">
<span class="sig-name descname"><span class="pre">set_insulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Insulation" title="femmt.model.Insulation"><span class="pre">Insulation</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.set_insulation" title="Link to this definition"></a></dt>
<dd><p>Add insulation to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>insulation</strong> (<a class="reference internal" href="#femmt.Insulation" title="femmt.Insulation"><em>Insulation</em></a>) – insulation object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.set_stray_path">
<span class="sig-name descname"><span class="pre">set_stray_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stray_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StrayPath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.set_stray_path" title="Link to this definition"></a></dt>
<dd><p>Add the stray path to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stray_path</strong> (<em>StrayPath</em>) – StrayPath object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.set_winding_windows">
<span class="sig-name descname"><span class="pre">set_winding_windows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winding_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#femmt.WindingWindow" title="femmt.model.WindingWindow"><span class="pre">WindingWindow</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.set_winding_windows" title="Link to this definition"></a></dt>
<dd><p>Add the winding windows to the model.</p>
<p>Creates the windings list, which contains the conductors from the virtual winding windows but sorted
by the winding_number (ascending). Sets empty lists for excitation parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>winding_windows</strong> (<em>List</em><em>[</em><a class="reference internal" href="#femmt.WindingWindow" title="femmt.WindingWindow"><em>WindingWindow</em></a><em>]</em>) – List of WindingWindow objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.single_simulation">
<span class="sig-name descname"><span class="pre">single_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_interpolation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_fem_simulation_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.single_simulation" title="Link to this definition"></a></dt>
<dd><p>Start a _single_ electromagnetic ONELAB simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plot_interpolation</strong></p></li>
<li><p><strong>freq</strong> (<em>float</em>) – frequency to simulate</p></li>
<li><p><strong>current</strong> – current to simulate</p></li>
<li><p><strong>phi_deg</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – phase angle in degree</p></li>
<li><p><strong>show_fem_simulation_results</strong> (<em>bool</em>) – Set to True to show the simulation results after the simulation has finished</p></li>
<li><p><strong>benchmark</strong> (<em>bool</em>) – Benchmark simulation (stop time). Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.MagneticComponent.thermal_simulation">
<span class="sig-name descname"><span class="pre">thermal_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thermal_conductivity_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_temperatures_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary_flags_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_gap_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_gap_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_gap_bot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_thermal_simulation_results</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_visualize_geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ff.colors_femmt_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors_geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ff.colors_geometry_femmt_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.MagneticComponent.thermal_simulation" title="Link to this definition"></a></dt>
<dd><p>Start the thermal simulation using thermal_simulation.py.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thermal_conductivity_dict</strong> (<em>Dict</em>) – Contains the thermal conductivities for every region</p></li>
<li><p><strong>boundary_temperatures_dict</strong> (<em>Dict</em>) – Contains the temperatures at each boundary line</p></li>
<li><p><strong>boundary_flags_dict</strong> (<em>Dict</em>) – Sets the boundary type (dirichlet or von neumann) for each boundary line</p></li>
<li><p><strong>case_gap_top</strong> (<em>float</em>) – Size of the top case</p></li>
<li><p><strong>case_gap_right</strong> (<em>float</em>) – Size of the right case</p></li>
<li><p><strong>case_gap_bot</strong> (<em>float</em>) – Size of the bot case</p></li>
<li><p><strong>show_thermal_simulation_results</strong> (<em>bool</em><em>, </em><em>optional</em>) – Shows thermal results in gmsh, defaults to True</p></li>
<li><p><strong>pre_visualize_geometry</strong> (<em>bool</em><em>, </em><em>optional</em>) – Shows the thermal model before simulation, defaults to False</p></li>
<li><p><strong>color_scheme</strong> (<em>Dict</em><em>, </em><em>optional</em>) – Color scheme for visualization, defaults to ff.colors_femmt_default</p></li>
<li><p><strong>colors_geometry</strong> (<em>Dict</em><em>, </em><em>optional</em>) – Color geometry for visualization, defaults to ff.colors_geometry_femmt_default</p></li>
<li><p><strong>flag_insulation</strong> (<em>bool</em>) – True to simulate the insulation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="the-core-class">
<h2><span class="sectnum">4.2 </span>The <code class="docutils literal notranslate"><span class="pre">Core</span></code> class<a class="headerlink" href="#the-core-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.Core">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">Core</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">CoreType.Single</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_dimensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detailed_core_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">material</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'custom'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_approach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LossApproach</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">LossApproach.LossAngle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu_r_abs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability_datasource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MaterialDataSource</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MeasurementDataType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability_measurement_setup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_mu_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_linear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permittivity_datasource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permittivity_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permittivity_measurement_setup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steinmetz_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generalized_steinmetz_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdb_verbosity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Verbosity</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Verbosity.Silent</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Core" title="Link to this definition"></a></dt>
<dd><p>Creates the core base for the model.</p>
<p># TODO More documentation and get rid of double initializations
frequency = 0: mu_r_abs only used if non_linear == False
frequency &gt; 0: mu_r_abs is used</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.Core.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CoreType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">CoreType.Single</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_dimensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detailed_core_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">material</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'custom'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_approach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">LossApproach</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">LossApproach.LossAngle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu_r_abs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability_datasource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MaterialDataSource</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MeasurementDataType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permeability_measurement_setup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_mu_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">non_linear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permittivity_datasource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permittivity_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permittivity_measurement_setup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steinmetz_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generalized_steinmetz_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdb_verbosity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Verbosity</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Verbosity.Silent</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Core.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the core.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core_inner_diameter</strong> (<em>float</em>) – diameter of the inner core</p></li>
<li><p><strong>window_w</strong> (<em>float</em>) – width of the winding window</p></li>
<li><p><strong>window_h</strong> (<em>float</em>) – height of the winding window</p></li>
<li><p><strong>material</strong> (<em>str</em><em>, </em><em>optional</em>) – Material name, e.g. ‘N95’, defaults to “custom”mu_rel</p></li>
<li><p><strong>mu_r_abs</strong> (<em>float</em><em>, </em><em>optional</em>) – absolute value of the permeability, defaults to 3000</p></li>
<li><p><strong>phi_mu_deg</strong> (<em>float</em><em>, </em><em>optional</em>) – loss angle of the material in degree, defaults to None</p></li>
<li><p><strong>sigma</strong> (<em>float</em><em>, </em><em>optional</em>) – core conductivity, defaults to None</p></li>
<li><p><strong>non_linear</strong> (<em>bool</em><em>, </em><em>optional</em>) – _description_, defaults to False</p></li>
<li><p><strong>detailed_core_model</strong> (<em>bool</em><em>, </em><em>optional</em>) – Manual correction so cross-section of inner leg is not same as outer leg (PQ 40/40 only!!), defaults to False (recommended!)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="the-airgaps-class">
<h2><span class="sectnum">4.3 </span>The <code class="docutils literal notranslate"><span class="pre">AirGaps</span></code> class<a class="headerlink" href="#the-airgaps-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.AirGaps">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">AirGaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AirGapMethod</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Core" title="femmt.model.Core"><span class="pre">Core</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.AirGaps" title="Link to this definition"></a></dt>
<dd><p>Contains methods and arguments to describe the air gaps in a magnetic component.</p>
<p>An air gap can be added with the add_air_gap function. It is possible to set different positions and heights.</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.AirGaps.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AirGapMethod</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Core" title="femmt.model.Core"><span class="pre">Core</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.AirGaps.__init__" title="Link to this definition"></a></dt>
<dd><p>Create an AirGaps object. An AirGapMethod needs to be set.</p>
<p>This determines the way the air gap will be added to the model. In order to calculate the air gap positions the core object needs to be given.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>AirGapMethod</em>) – The method determines the way the air gap position is set.</p></li>
<li><p><strong>core</strong> (<a class="reference internal" href="#femmt.Core" title="femmt.Core"><em>Core</em></a>) – The core object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.AirGaps.add_air_gap">
<span class="sig-name descname"><span class="pre">add_air_gap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leg_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AirGapLegPosition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StackedPosition</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.AirGaps.add_air_gap" title="Link to this definition"></a></dt>
<dd><p>Brings a single air gap to the core.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>leg_position</strong> (<em>AirGapLegPosition</em>) – CenterLeg, OuterLeg</p></li>
<li><p><strong>position_value</strong> (<em>float</em>) – if AirGapMethod == Percent: 0…100, elif AirGapMethod == Manually: position height in [m]</p></li>
<li><p><strong>height</strong> (<em>float</em>) – Air gap height in [m]</p></li>
<li><p><strong>stacked_position</strong> (<em>StackedPosition</em>) – Top, Bot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="the-insulation-class">
<h2><span class="sectnum">4.4 </span>The <code class="docutils literal notranslate"><span class="pre">Insulation</span></code> class<a class="headerlink" href="#the-insulation-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.Insulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">Insulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_aspect_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Insulation" title="Link to this definition"></a></dt>
<dd><p>Defines insulation for the model.</p>
<p>An insulation between the winding window and the core can always be set.
When having an inductor only the primary2primary insulation is necessary.
When having a (integrated) transformer secondary2secondary and primary2secondary insulations can be set as well.</p>
<p>Only the isolation between winding window and core is drawn as a “physical” isolation (4 rectangles). All other isolations
are only describing a set distance between the object.</p>
<p>In general, it is not necessary to add an insulation object at all when no insulation is needed.</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.Insulation.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_aspect_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag_insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Insulation.__init__" title="Link to this definition"></a></dt>
<dd><p>Create an insulation object.</p>
<p>Sets an insulation_delta value. In order to simplify the drawing of the isolations between core and winding window the isolation rectangles
are not exactly drawn at the specified position. They are slightly smaller and the offset can be changed with the insulation_delta variable.
In general, it is not recommended to change this value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.Insulation.add_core_insulations">
<span class="sig-name descname"><span class="pre">add_core_insulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">top_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bot_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Insulation.add_core_insulations" title="Link to this definition"></a></dt>
<dd><p>Add insulations between the core and the winding window. Creating those will draw real rectangles in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>top_core</strong> (<em>float</em>) – Insulation between winding window and top core</p></li>
<li><p><strong>bot_core</strong> (<em>float</em>) – Insulation between winding window and bottom core</p></li>
<li><p><strong>left_core</strong> (<em>float</em>) – Insulation between winding window and left core</p></li>
<li><p><strong>right_core</strong> (<em>float</em>) – Insulation between winding window and right core</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.Insulation.add_winding_insulations">
<span class="sig-name descname"><span class="pre">add_winding_insulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_winding_insulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Insulation.add_winding_insulations" title="Link to this definition"></a></dt>
<dd><p>Add insulations between turns of one winding and insulation between virtual winding windows.</p>
<p>Insulation between virtual winding windows is not always needed.
:param inner_winding_insulation: List of floats which represent the insulations between turns of the same winding. This does not correspond to
the order conductors are added to the winding! Instead, the winding number is important. The conductors are sorted by ascending winding number.
The lowest winding number therefore is combined with index 0. The second lowest with index 1 and so on.
:type inner_winding_insulation: List[List[float]]</p>
</dd></dl>

</dd></dl>

</section>
<section id="the-conductor-class">
<h2><span class="sectnum">4.5 </span>The <code class="docutils literal notranslate"><span class="pre">Conductor</span></code> class<a class="headerlink" href="#the-conductor-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.Conductor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">Conductor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winding_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Conductivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_material_temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Conductor" title="Link to this definition"></a></dt>
<dd><p>A winding defines a conductor which is wound around a magnetic component such as transformer or inductance.</p>
<p>The winding is defined by its conductor and the way it is placed in the magnetic component. To allow different
arrangements of the conductors in several winding windows (hexagonal or square packing, interleaved, …) in
this class only the conductor parameters are specified.</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.Conductor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winding_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Conductivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_material_temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Conductor.__init__" title="Link to this definition"></a></dt>
<dd><p>Create a conductor object.</p>
<p>The winding_number sets the order of the conductors. Every conductor needs to have a unique winding number.
The conductor with the lowest winding number (starting from 0) will be treated as primary, second-lowest number as secondary and so on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>winding_number</strong> (<em>int</em>) – Unique number for the winding</p></li>
<li><p><strong>conductivity</strong> (<em>float</em>) – Sets the conductivity for the conductor</p></li>
<li><p><strong>winding_material_temperature</strong> (<em>float</em>) – temperature of winding material, default set to 100 °C</p></li>
<li><p><strong>parallel</strong> (<em>bool</em>) – Set to True to introduce parallel conductors. Default set to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.Conductor.set_litz_round_conductor">
<span class="sig-name descname"><span class="pre">set_litz_round_conductor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conductor_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_strands</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strand_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductor_arrangement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConductorArrangement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Conductor.set_litz_round_conductor" title="Link to this definition"></a></dt>
<dd><p>Set a round conductor made of litz wire.</p>
<p>Only 3 of the 4 parameters are needed. The other one needs to be none.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conductor_radius</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em>) – conductor radius in m</p></li>
<li><p><strong>number_strands</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) – number of strands inside the litz wire</p></li>
<li><p><strong>strand_radius</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em>) – radius of a single strand in m</p></li>
<li><p><strong>fill_factor</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em>) – fill factor of the litz wire</p></li>
<li><p><strong>conductor_arrangement</strong> (<em>ConductorArrangement</em>) – conductor arrangement (Square, SquareFullWidth, Hexagonal)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.Conductor.set_rectangular_conductor">
<span class="sig-name descname"><span class="pre">set_rectangular_conductor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Conductor.set_rectangular_conductor" title="Link to this definition"></a></dt>
<dd><p>Set a rectangular, solid conductor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>thickness</strong> (<em>float</em>) – thickness of the rectangular conductor in m</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.Conductor.set_solid_round_conductor">
<span class="sig-name descname"><span class="pre">set_solid_round_conductor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conductor_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductor_arrangement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConductorArrangement</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.Conductor.set_solid_round_conductor" title="Link to this definition"></a></dt>
<dd><p>Set a solid round conductor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conductor_radius</strong> (<em>float</em>) – conductor radius in m</p></li>
<li><p><strong>conductor_arrangement</strong> (<em>Optional</em><em>[</em><em>ConductorArrangement</em><em>]</em>) – conductor arrangement (Square / SquareFullWidth / Hexagonal)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="the-windingwindow-class">
<h2><span class="sectnum">4.6 </span>The <code class="docutils literal notranslate"><span class="pre">WindingWindow</span></code> class<a class="headerlink" href="#the-windingwindow-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.WindingWindow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">WindingWindow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Core" title="femmt.model.Core"><span class="pre">Core</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">insulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Insulation" title="femmt.model.Insulation"><span class="pre">Insulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stray_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StrayPath</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gaps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.AirGaps" title="femmt.model.AirGaps"><span class="pre">AirGaps</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.WindingWindow" title="Link to this definition"></a></dt>
<dd><p>Represents the winding window which is necessary for every model in FEMMT.</p>
<p>Depending on the type different virtual winding windows are created by this class which then contain the different conductors.</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.WindingWindow.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Core" title="femmt.model.Core"><span class="pre">Core</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">insulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Insulation" title="femmt.model.Insulation"><span class="pre">Insulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stray_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StrayPath</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gaps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.AirGaps" title="femmt.model.AirGaps"><span class="pre">AirGaps</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.WindingWindow.__init__" title="Link to this definition"></a></dt>
<dd><p>Create a winding window which then creates up to 4 virtual winding windows.</p>
<p>In order to correctly calculate the virtual winding windows the core, isolations, stray_path
and air_gaps objects are needed.</p>
<p>The stray_path and air_gaps objects are only needed when having an integrated transformer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core</strong> (<a class="reference internal" href="#femmt.Core" title="femmt.Core"><em>Core</em></a>) – Core object</p></li>
<li><p><strong>insulations</strong> (<a class="reference internal" href="#femmt.Insulation" title="femmt.Insulation"><em>Insulation</em></a>) – Insulation object</p></li>
<li><p><strong>stray_path</strong> (<em>StrayPath</em><em>, </em><em>optional</em>) – Stray path object. Only needed for integrated transformer, defaults to None</p></li>
<li><p><strong>air_gaps</strong> (<a class="reference internal" href="#femmt.AirGaps" title="femmt.AirGaps"><em>AirGaps</em></a><em>, </em><em>optional</em>) – Air gaps path object. Only needed for integrated transformer, defaults to None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.WindingWindow.combine_vww">
<span class="sig-name descname"><span class="pre">combine_vww</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vww1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.model.VirtualWindingWindow"><span class="pre">VirtualWindingWindow</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">vww2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.model.VirtualWindingWindow"><span class="pre">VirtualWindingWindow</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.model.VirtualWindingWindow"><span class="pre">VirtualWindingWindow</span></a></span></span><a class="headerlink" href="#femmt.WindingWindow.combine_vww" title="Link to this definition"></a></dt>
<dd><p>Combine the borders of two virtual winding windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vww1</strong> (<a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.VirtualWindingWindow"><em>VirtualWindingWindow</em></a>) – Virtual winding window 1</p></li>
<li><p><strong>vww2</strong> (<a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.VirtualWindingWindow"><em>VirtualWindingWindow</em></a>) – Virtual winding window 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Virtual winding window with new bounds</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.VirtualWindingWindow">VirtualWindingWindow</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.WindingWindow.split_window">
<span class="sig-name descname"><span class="pre">split_window</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">split_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WindingWindowSplit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_split_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_split_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_bobbin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bot_bobbin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_bobbin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_bobbin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.model.VirtualWindingWindow"><span class="pre">VirtualWindingWindow</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#femmt.WindingWindow.split_window" title="Link to this definition"></a></dt>
<dd><p>Create up to 4 virtual winding windows depending on the split type and the horizontal and vertical split factors.</p>
<p>The split factors are values between 0 and 1 and determine a horizontal and vertical line at which the window is split.
Not every value is needed for every split type:
- NoSplit: No split_factor is needed
- HorizontalSplit: horizontal_split_factor needed
- VerticalSplit: vertical_split_factor factor needed
- HorizontalAndVerticalSplit: horizontal_split_factor and vertical_split_factor needed</p>
<p>Up to 4 virtual winding windows are returned:
- NoSplit: One big virtual winding window, what is the window given by the core minus the core insulation.
- HorizontalSplit: left, right
- VerticalSplit: top, bottom
- HorizontalAndVerticalSplit: top_left, top_right, bot_left, bot_right</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>split_type</strong> (<em>WindingWindowSplit</em>) – Determines the arrangement in which virtual winding windows are created</p></li>
<li><p><strong>split_distance</strong> (<em>float</em>) – distance between two virtual winding windows in meter [m].</p></li>
<li><p><strong>horizontal_split_factor</strong> (<em>float</em><em>, </em><em>optional</em>) – Horizontal split factor 0…1, defaults to 0.5</p></li>
<li><p><strong>vertical_split_factor</strong> (<em>float</em><em>, </em><em>optional</em>) – Vertical split factor 0…1, defaults to 0.5</p></li>
<li><p><strong>top_bobbin</strong> (<em>float</em>) – top bobbin thickness in m</p></li>
<li><p><strong>bot_bobbin</strong> (<em>float</em>) – bottom bobbin thickness in m</p></li>
<li><p><strong>left_bobbin</strong> (<em>float</em>) – left bobbin thickness in m</p></li>
<li><p><strong>right_bobbin</strong> (<em>float</em>) – right bobbin thickness in m</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing the virtual winding windows</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[<a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.VirtualWindingWindow">VirtualWindingWindow</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="the-virtualwindingwindow-class">
<h2><span class="sectnum">4.7 </span>The <code class="docutils literal notranslate"><span class="pre">VirtualWindingWindow</span></code> class<a class="headerlink" href="#the-virtualwindingwindow-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.VirtualWindingWindow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">VirtualWindingWindow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bot_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.VirtualWindingWindow" title="Link to this definition"></a></dt>
<dd><p>Create a VirtualWindingWindow.</p>
<p>A virtual winding window is the area, where either some kind of interleaved conductors or a one winding
(primary, secondary,…) is placed in a certain way.</p>
<p>An instance of this class will be automatically created when the Winding is added to the MagneticComponent</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.VirtualWindingWindow.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bot_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.VirtualWindingWindow.__init__" title="Link to this definition"></a></dt>
<dd><p>Create a virtual winding window with given bounds.</p>
<p>By default, a virtual winding window is created by the WindingWindow class.
The parameter values are given in metres and depend on the axisymmetric coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bot_bound</strong> (<em>float</em>) – Bottom bound</p></li>
<li><p><strong>top_bound</strong> (<em>float</em>) – Top bound</p></li>
<li><p><strong>left_bound</strong> (<em>float</em>) – Left bound</p></li>
<li><p><strong>right_bound</strong> (<em>float</em>) – Right bound</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.VirtualWindingWindow.set_interleaved_winding">
<span class="sig-name descname"><span class="pre">set_interleaved_winding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conductor1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">turns1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductor2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">turns2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">InterleavedWindingScheme</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.VirtualWindingWindow.set_interleaved_winding" title="Link to this definition"></a></dt>
<dd><p>Set an interleaved winding to the current virtual winding window. An interleaved winding always contains two conductors.</p>
<p>If a conductor is primary or secondary is determined by the value of the winding number of the conductor. The order of the function parameters
is irrelevant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conductor1</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Conductor 1 which will be added to the vww. Not equal to primary winding.</p></li>
<li><p><strong>turns1</strong> (<em>int</em>) – Turns of conductor 1</p></li>
<li><p><strong>conductor2</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Conductor 2 which will be added to the vww. Not equal to secondary winding.</p></li>
<li><p><strong>turns2</strong> (<em>int</em>) – Turns of conductor 2</p></li>
<li><p><strong>winding_scheme</strong> (<em>InterleavedWindingScheme</em>) – Interleaved winding scheme defines the way the conductors are drawn</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.VirtualWindingWindow.set_winding">
<span class="sig-name descname"><span class="pre">set_winding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conductor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WindingScheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alignment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Align</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">placing_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConductorDistribution</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zigzag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_para_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WrapParaType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foil_vertical_placing_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FoilVerticalDistribution</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foil_horizontal_placing_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FoilHorizontalDistribution</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.VirtualWindingWindow.set_winding" title="Link to this definition"></a></dt>
<dd><p>Set a single winding to the current virtual winding window. A single winding always contains one conductor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conductor</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Conductor which will be set to the vww.</p></li>
<li><p><strong>turns</strong> (<em>int</em>) – Number of turns of the conductor</p></li>
<li><p><strong>winding_scheme</strong> (<em>WindingScheme</em>) – Winding scheme defines the way the conductor is wrapped. Can be set to None.</p></li>
<li><p><strong>placing_strategy</strong> (<em>bool</em><em>, </em><em>define to False</em>) – Placing strategy defines the way the conductors are placing in vww</p></li>
<li><p><strong>zigzag</strong> – Zigzag movement for conductors</p></li>
<li><p><strong>wrap_para_type</strong> (<em>WrapParaType</em><em>, </em><em>optional</em>) – Additional wrap parameter. Not always needed, defaults to None</p></li>
<li><p><strong>foil_vertical_placing_strategy</strong> (<em>FoilVerticalDistribution</em><em>, </em><em>optional</em>) – foil_vertical_placing_strategy defines the way the rectangular foil vertical conductors are placing in vww</p></li>
<li><p><strong>foil_horizontal_placing_strategy</strong> (<em>foil_horizontal_placing_strategy</em><em>, </em><em>optional</em>) – foil_horizontal_placing_strategy defines the way the rectangular foil Horizontal conductors are placing in vww</p></li>
<li><p><strong>alignment</strong> (<em>Optional</em><em>[</em><em>Align</em><em>]</em>) – List of alignments: ToEdges, CenterOnVerticalAxis, CenterOnHorizontalAxis</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="the-logparser-class">
<h2><span class="sectnum">4.8 </span>The <code class="docutils literal notranslate"><span class="pre">LogParser</span></code> class<a class="headerlink" href="#the-logparser-class" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.FEMMTLogParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">FEMMTLogParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_paths_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.FEMMTLogParser" title="Link to this definition"></a></dt>
<dd><p>Class to parse the electromagnetic_results_log file created by FEMMT.</p>
<p>Creates a class structure from the file in order to easy access the data and create plots.</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.FEMMTLogParser.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_paths_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.FEMMTLogParser.__init__" title="Link to this definition"></a></dt>
<dd><p>Create the data dict out of the given file_paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_paths_dict</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of paths to every log file that should be added to the data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.FEMMTLogParser.plot_frequency_sweep_losses">
<span class="sig-name descname"><span class="pre">plot_frequency_sweep_losses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.FEMMTLogParser.plot_frequency_sweep_losses" title="Link to this definition"></a></dt>
<dd><p>Sweep over the frequency of different simulations from one or multiple files.</p>
<p>Example function for a possible sweep plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_names</strong> – Name of the data (keys of data dict). If the list is empty every key will be taken.</p></li>
<li><p><strong>loss_parameter</strong> – Name of the variable from SweepData as str which will be set on the y-axis.</p></li>
<li><p><strong>plot_label</strong> – Title of the plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.FEMMTLogParser.plot_frequency_sweep_winding_params">
<span class="sig-name descname"><span class="pre">plot_frequency_sweep_winding_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.FEMMTLogParser.plot_frequency_sweep_winding_params" title="Link to this definition"></a></dt>
<dd><p>Sweeps over the frequency of different simulations from one or multiple files.</p>
<p>Example function for a possible sweep plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_names</strong> (<em>str</em>) – Name of the data (keys of data dict). If the list is empty every key will be taken.</p></li>
<li><p><strong>winding_number</strong> (<em>int</em>) – Number of winding which shall be compared.</p></li>
<li><p><strong>plot_label</strong> (<em>str</em>) – Title of the plot.</p></li>
<li><p><strong>winding_parameter</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="femmt.FileData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">FileData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sweeps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#femmt.SweepData" title="femmt.logparser.SweepData"><span class="pre">SweepData</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_winding_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_core_eddy_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_core_hyst_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_core_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_2daxi_total_volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.FileData" title="Link to this definition"></a></dt>
<dd><p>General data for the result-log file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.core_2daxi_total_volume">
<span class="sig-name descname"><span class="pre">core_2daxi_total_volume</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.FileData.core_2daxi_total_volume" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.file_path">
<span class="sig-name descname"><span class="pre">file_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#femmt.FileData.file_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.sweeps">
<span class="sig-name descname"><span class="pre">sweeps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#femmt.SweepData" title="femmt.logparser.SweepData"><span class="pre">SweepData</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#femmt.FileData.sweeps" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.total_core_eddy_losses">
<span class="sig-name descname"><span class="pre">total_core_eddy_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.FileData.total_core_eddy_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.total_core_hyst_losses">
<span class="sig-name descname"><span class="pre">total_core_hyst_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.FileData.total_core_hyst_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.total_core_losses">
<span class="sig-name descname"><span class="pre">total_core_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.FileData.total_core_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.total_cost">
<span class="sig-name descname"><span class="pre">total_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.FileData.total_cost" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.FileData.total_winding_losses">
<span class="sig-name descname"><span class="pre">total_winding_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.FileData.total_winding_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="femmt.SweepData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">SweepData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_eddy_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_hyst_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">windings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#femmt.WindingData" title="femmt.logparser.WindingData"><span class="pre">WindingData</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.SweepData" title="Link to this definition"></a></dt>
<dd><p>Data from simulations sweeps for the result-log file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.SweepData.core_eddy_losses">
<span class="sig-name descname"><span class="pre">core_eddy_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.SweepData.core_eddy_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.SweepData.core_hyst_losses">
<span class="sig-name descname"><span class="pre">core_hyst_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.SweepData.core_hyst_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.SweepData.frequency">
<span class="sig-name descname"><span class="pre">frequency</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.SweepData.frequency" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.SweepData.winding_losses">
<span class="sig-name descname"><span class="pre">winding_losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.SweepData.winding_losses" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.SweepData.windings">
<span class="sig-name descname"><span class="pre">windings</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#femmt.WindingData" title="femmt.logparser.WindingData"><span class="pre">WindingData</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#femmt.SweepData.windings" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="femmt.WindingData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">WindingData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_over_current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reactive_power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apparent_power</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.WindingData" title="Link to this definition"></a></dt>
<dd><p>Data from the windings for the result-log file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.active_power">
<span class="sig-name descname"><span class="pre">active_power</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.WindingData.active_power" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.apparent_power">
<span class="sig-name descname"><span class="pre">apparent_power</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.WindingData.apparent_power" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.current">
<span class="sig-name descname"><span class="pre">current</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">complex</span></em><a class="headerlink" href="#femmt.WindingData.current" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.flux">
<span class="sig-name descname"><span class="pre">flux</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">complex</span></em><a class="headerlink" href="#femmt.WindingData.flux" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.flux_over_current">
<span class="sig-name descname"><span class="pre">flux_over_current</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">complex</span></em><a class="headerlink" href="#femmt.WindingData.flux_over_current" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.reactive_power">
<span class="sig-name descname"><span class="pre">reactive_power</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#femmt.WindingData.reactive_power" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.turns">
<span class="sig-name descname"><span class="pre">turns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#femmt.WindingData.turns" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.WindingData.voltage">
<span class="sig-name descname"><span class="pre">voltage</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">complex</span></em><a class="headerlink" href="#femmt.WindingData.voltage" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="enumerations">
<h2><span class="sectnum">4.9 </span><code class="docutils literal notranslate"><span class="pre">Enumerations</span></code><a class="headerlink" href="#enumerations" title="Link to this heading"></a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="femmt.enumerations">
<span class="sig-prename descclassname"><span class="pre">femmt.</span></span><span class="sig-name descname"><span class="pre">enumerations</span></span><a class="headerlink" href="#femmt.enumerations" title="Link to this definition"></a></dt>
<dd><p>alias of &lt;module ‘femmt.enumerations’ from ‘/home/runner/work/FEM_Magnetics_Toolbox/FEM_Magnetics_Toolbox/femmt/enumerations.py’&gt;</p>
</dd></dl>

</section>
<section id="module-femmt.functions">
<span id="helper-functions"></span><h2><span class="sectnum">4.10 </span>Helper functions<a class="headerlink" href="#module-femmt.functions" title="Link to this heading"></a></h2>
<p>Contains different functions, used by the whole FEMMT functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.axial_wavelength">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">axial_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex_permeability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex_permittivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.axial_wavelength" title="Link to this definition"></a></dt>
<dd><p>Calculate the axial wavelength for a given frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em>) – Frequency in Hz</p></li>
<li><p><strong>complex_permeability</strong> (<em>float</em>) – complex permeability</p></li>
<li><p><strong>complex_permittivity</strong> (<em>float</em>) – complex permittivity</p></li>
<li><p><strong>conductivity</strong> (<em>float</em>) – electrical conductivity</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.calculate_average">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">calculate_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">integral</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.calculate_average" title="Link to this definition"></a></dt>
<dd><p>Compute the average in general.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>integral</strong> (<em>float</em>) – The integral value.</p></li>
<li><p><strong>time_steps</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of time steps.</p></li>
</ul>
</dd>
</dl>
<p>Returns:
:return: The calculated average.
:rtype: float.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.calculate_cylinder_volume">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">calculate_cylinder_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cylinder_diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cylinder_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.calculate_cylinder_volume" title="Link to this definition"></a></dt>
<dd><p>Calculate the volume of an ideal cylinder.</p>
<p>This function is uses e.g. to calculate the volume of the inner core part.
:param cylinder_height: height of cylinder
:type cylinder_height: float
:param cylinder_diameter: diameter of cylinder
:type cylinder_diameter: float
:returns: volume
:rtype: float</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.calculate_quadrature_integral">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">calculate_quadrature_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.calculate_quadrature_integral" title="Link to this definition"></a></dt>
<dd><p>Calculate the integral of given data over specific time steps using the quadrature method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_steps</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of time steps.</p></li>
<li><p><strong>data</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of data corresponding to each timestep.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated integral.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.calculate_rms">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">calculate_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">squared_integral</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.calculate_rms" title="Link to this definition"></a></dt>
<dd><p>Compute the RMS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>squared_integral</strong> (<em>float</em>) – The integral value.</p></li>
<li><p><strong>time_steps</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of time steps.</p></li>
</ul>
</dd>
</dl>
<p>Returns:
:return: The calculated average.
:rtype: float.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.calculate_squared_quadrature_integral">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">calculate_squared_quadrature_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.calculate_squared_quadrature_integral" title="Link to this definition"></a></dt>
<dd><p>Calculate the integral of squared given data over specific time steps using the quadrature method..</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_steps</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of time steps.</p></li>
<li><p><strong>data</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – List of data corresponding to each timestep.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated integral.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.check_mqs_condition">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">check_mqs_condition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex_permeability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex_permittivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_margin_to_first_resonance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.check_mqs_condition" title="Link to this definition"></a></dt>
<dd><p>Check if the condition for a magnetoquasistatic simulation is fulfilled.</p>
<p>Calculates the ratio (core-diameter / wavelength) and includes a safety margin factor of 0.5.
In case of ratio &gt; 1, the simulated frequency is too high. A magnetoquasistatic simulation will not lead to good
results. It is recommended to reduce the frequency or use a full-wave solver (not supported by FEMMT).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> (<em>float</em>) – core radius</p></li>
<li><p><strong>frequency</strong> (<em>float</em>) – frequency in Hz</p></li>
<li><p><strong>complex_permeability</strong> (<em>float</em>) – complex permeability</p></li>
<li><p><strong>complex_permittivity</strong> (<em>float</em>) – complex permittivity</p></li>
<li><p><strong>conductivity</strong> (<em>float</em>) – core conductivity</p></li>
<li><p><strong>relative_margin_to_first_resonance</strong> (<em>float</em>) – relative margin to the first resonance. Defaults to 0.5.</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no terminal output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.compare_fft_list">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">compare_fft_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_data_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.compare_fft_list" title="Link to this definition"></a></dt>
<dd><p>Generate fft curves from input curves and compare them to each other.</p>
<dl class="field-list simple">
<dt class="field-odd">Minimal Example<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">example_waveform</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.34</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="mf">4.48</span><span class="p">,</span> <span class="mf">6.28</span><span class="p">],[</span><span class="o">-</span><span class="mf">175.69</span><span class="p">,</span> <span class="mf">103.47</span><span class="p">,</span> <span class="mf">175.69</span><span class="p">,</span> <span class="o">-</span><span class="mf">103.47</span><span class="p">,</span><span class="o">-</span><span class="mf">175.69</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example_waveform_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="mf">3.69</span><span class="p">,</span> <span class="mf">6.28</span><span class="p">],[</span><span class="o">-</span><span class="mf">138.37</span><span class="p">,</span> <span class="mf">257.58</span><span class="p">,</span> <span class="mf">138.37</span><span class="p">,</span> <span class="o">-</span><span class="mf">257.58</span><span class="p">,</span> <span class="o">-</span><span class="mf">138.37</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compare_fft_list</span><span class="p">([</span><span class="n">example_waveform</span><span class="p">,</span> <span class="n">example_waveform_2</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rad&#39;</span><span class="p">,</span> <span class="n">f0</span><span class="o">=</span><span class="mi">25000</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_data_list</strong> – list of fft-compatible numpy-arrays [element, element, … ], each element format
like [[time-vector[,[current-vector]]. One period only</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – ‘rad’[default]: full period is 2*pi, ‘deg’: full period is 360°, ‘time’: time domain.</p></li>
<li><p><strong>f0</strong> (<em>float</em>) – fundamental frequency. Needs to be set in ‘rad’- or ‘deg’-mode</p></li>
<li><p><strong>sample_factor</strong> (<em>int</em>) – samle factor, defaults to 1000</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.conductivity_temperature">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">conductivity_temperature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">material</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.conductivity_temperature" title="Link to this definition"></a></dt>
<dd><p>Calculate the conductivity for a certain temperature of the material.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>material</strong> (<em>str</em>) – material name, e.g. “copper”</p></li>
<li><p><strong>temperature</strong> (<em>float</em>) – temperature in °C</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>conductivity of material at given temperature</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.convert_air_gap_corner_points_to_center_and_distance">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">convert_air_gap_corner_points_to_center_and_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corner_points</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#femmt.functions.convert_air_gap_corner_points_to_center_and_distance" title="Link to this definition"></a></dt>
<dd><p>Convert the list-defined air_gap_corner_points from a “two_d_axi” object to center points and lengths as to separate lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>corner_points</strong> (<em>list</em>) – in usage of magnetic component -&gt; “self.two_d_axi.p_air_gaps.tolist()”</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>centers and heights of the air gaps</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.core_database">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">core_database</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#femmt.functions.core_database" title="Link to this definition"></a></dt>
<dd><p>Return a core geometry for defined core structure.</p>
<p>All dimensions are nominal dimensions without consideration of tolerances.</p>
<p>For PQ core sizes (e.g. PQ 40/40), it has been found out that
core_dimension_x / core_dimension_y = 1.45, the error over all available shapes is maximum 7%
(compared to datasheet value)
Derivation:
core_list: [‘PQ 20/20’, ‘PQ 26/25’, ‘PQ 32/30’, ‘PQ 35/35’, ‘PQ 40/40’, ‘PQ 50/50’]
factor core_dimension_x / core_dimension_y = [1.46, 1.39, 1.45, 1.35, 1.44, 1.56]
mean over the factors = 1.45
max derivation / mean = 1.07 (&lt; 7% accuracy)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict including core_h, core_inner_diameter, window_h, window_w</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.cost_function_core">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">cost_function_core</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core_weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ferrite'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.cost_function_core" title="Link to this definition"></a></dt>
<dd><p>Calculate core material costs depending on material and weight.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core_weight</strong> (<em>float</em>) – core weight in kg</p></li>
<li><p><strong>core_type</strong> (<em>str</em>) – core type. Can be “ferrite”, “amorphous”, “nanocristalline”, “high_si_steel”, “goes”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>costs of core in euro</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.cost_function_total">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">cost_function_total</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core_weight</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wire_weight_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wire_type_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_strand_cross_section_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#femmt.functions.cost_function_total" title="Link to this definition"></a></dt>
<dd><p>Calculate the total costs for an inductive element.</p>
<p>This includes material costs for core and winding, fabrication costs for core and winding and manufacturer margin</p>
<p>Reference: Ralph Burkart and Johann W. Kolar: “Component Cost Models for Multi-Objective Optimizations of
Switched-Mode Power Converters”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core_weight</strong> (<em>float</em>) – core weight in kg</p></li>
<li><p><strong>core_type</strong> (<em>str</em>) – core type. Can be “ferrite”, “amorphous”, “nanocristalline”, “high_si_steel”, “goes”</p></li>
<li><p><strong>wire_weight_list</strong> (<em>float</em>) – winding weight in kg</p></li>
<li><p><strong>wire_type_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – winding type in list-form. Must fit to enum-names in ConductorType-Enum</p></li>
<li><p><strong>single_strand_cross_section_list</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – single strand cross-section in list-form</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>total costs for inductive element</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.cost_function_winding">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">cost_function_winding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wire_weight_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wire_type_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_strand_cross_section_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.cost_function_winding" title="Link to this definition"></a></dt>
<dd><p>Calculate single winding material and fabrication costs depending on winding-type and weight.</p>
<p>Reference: Ralph Burkart and Johann W. Kolar: “Component Cost Models for Multi-Objective Optimizations
of Switched-Mode Power Converters”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wire_weight_list</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – winding weight in kg in list-form</p></li>
<li><p><strong>wire_type_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – winding type. Must fit to enum-names in ConductorType-Enum</p></li>
<li><p><strong>single_strand_cross_section_list</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – single strand cross-section in list-form</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>winding cost of single winding</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.cost_material_database">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">cost_material_database</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#femmt.functions.cost_material_database" title="Link to this definition"></a></dt>
<dd><p>Return costs for core and winding. This is split in material and fabrication costs.</p>
<p>Both, material and fabrication costs have a euro_per_kilogram and a euro_per_unit (fix costs) price.</p>
<p>Source: R. Burkart and J. Kolar ‘Component Cost Models for Multi-Objective Optimizations of #
Switched-Mode Power Converter’ 2013.</p>
<p>These are outdated prices (year 2013). Update needed in the future.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.create_folders">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">create_folders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.create_folders" title="Link to this definition"></a></dt>
<dd><p>Create folders for every given folder path (if it does not exist).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<em>str</em>) – Folder names</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.create_open_circuit_excitation_sweep">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">create_open_circuit_excitation_sweep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#femmt.functions.create_open_circuit_excitation_sweep" title="Link to this definition"></a></dt>
<dd><p>Create a circuit excitation sweep with the other windings unloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>I0</strong> (<em>float</em>) – current in A</p></li>
<li><p><strong>n</strong> (<em>float</em>) – turns ratio n</p></li>
<li><p><strong>frequency</strong> (<em>float</em>) – Frequency in Hz</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.create_physical_group">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">create_physical_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entities</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.create_physical_group" title="Link to this definition"></a></dt>
<dd><p>Greate a physical group, what is used inside ONELAB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dim</strong> (<em>int</em>) – dim inside onelab</p></li>
<li><p><strong>entities</strong> (<em>int</em>) – entity inside onelab</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.fft">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">fft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">period_vector_t_i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'no'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ffT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'factor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_value_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_value_harmonic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#femmt.functions.fft" title="Link to this definition"></a></dt>
<dd><p>Calculate the FFT for a given input signal. Input signal is in vector format and should include one period.</p>
<p>Output vector includes only frequencies with amplitudes &gt; 1% of input signal</p>
<dl class="field-list simple">
<dt class="field-odd">Minimal Example<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">femmt</span> <span class="k">as</span> <span class="nn">fmt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example_waveform</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.34</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="mf">4.48</span><span class="p">,</span> <span class="mf">6.28</span><span class="p">],[</span><span class="o">-</span><span class="mf">175.69</span><span class="p">,</span> <span class="mf">103.47</span><span class="p">,</span> <span class="mf">175.69</span><span class="p">,</span> <span class="o">-</span><span class="mf">103.47</span><span class="p">,</span><span class="o">-</span><span class="mf">175.69</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">fft</span><span class="p">(</span><span class="n">example_waveform</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rad&#39;</span><span class="p">,</span> <span class="n">f0</span><span class="o">=</span><span class="mi">25000</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ffT input current&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>period_vector_t_i</strong> (<em>np.array</em>) – numpy-array [[time-vector[,[current-vector]]. One period only</p></li>
<li><p><strong>sample_factor</strong> (<em>int</em>) – f_sampling/f_period, defaults to 1000</p></li>
<li><p><strong>plot</strong> (<em>str</em>) – insert anything else than “no” or ‘False’ to show a plot to visualize input and output</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – ‘rad’[default]: full period is 2*pi, ‘deg’: full period is 360°, ‘time’: time domain.</p></li>
<li><p><strong>f0</strong> (<em>float</em>) – fundamental frequency. Needs to be set in ‘rad’- or ‘deg’-mode</p></li>
<li><p><strong>title</strong> (<em>str</em>) – plot window title, defaults to ‘ffT’</p></li>
<li><p><strong>filter_type</strong> (<em>str</em>) – ‘factor’[default] or ‘harmonic’ or ‘disabled’.</p></li>
<li><p><strong>filter_value_factor</strong> (<em>float</em>) – filters out amplitude-values below a certain factor of max. input amplitude.
Should be 0…1, default to 0.01 (1%)</p></li>
<li><p><strong>filter_value_harmonic</strong> (<em>int</em>) – filters out harmonics up to a certain number. Default value is 100.
Note: count 1 is DC component, count 2 is the fundamental frequency</p></li>
<li><p><strong>figure_directory</strong> (<em>Tuple</em>) – full path with file extension</p></li>
<li><p><strong>figure_size</strong> (<em>Tuple</em>) – None for auto-fit; fig_size for matplotlib (width, length)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy-array [[frequency-vector],[amplitude-vector],[phase-vector]]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray[list]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.find_common_frequencies">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">find_common_frequencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency_list_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_list_1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_list_1_rad_or_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency_list_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_list_2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_list_2_rad_or_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#femmt.functions.find_common_frequencies" title="Link to this definition"></a></dt>
<dd><p>Find common frequencies and returns a list of intersections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amplitude_list_1</strong> (<em>List</em>) – Amplitudes signal 1</p></li>
<li><p><strong>phase_list_1_rad_or_deg</strong> (<em>List</em>) – Phases signal 1, can be degree or rad. return is same as input.</p></li>
<li><p><strong>frequency_list_1</strong> (<em>List</em>) – Frequencies signal 1</p></li>
<li><p><strong>amplitude_list_2</strong> (<em>List</em>) – Amplitudes signal 2</p></li>
<li><p><strong>phase_list_2_rad_or_deg</strong> (<em>List</em>) – Phases signal 2, can be degree or rad. return is same as input</p></li>
<li><p><strong>frequency_list_2</strong> (<em>List</em>) – Frequencies signal 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[current_pair_list, phase_pair_list, common_frequency_list]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">femmt</span> <span class="k">as</span> <span class="nn">fmt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frequency_1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">frequency_2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amplitude_1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amplitude_2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phase_1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phase_2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_f</span><span class="p">,</span> <span class="n">common_a</span><span class="p">,</span> <span class="n">common_phase</span> <span class="o">=</span> <span class="n">fmt</span><span class="o">.</span><span class="n">find_common_frequencies</span><span class="p">(</span><span class="n">frequency_1</span><span class="p">,</span> <span class="n">amplitude_1</span><span class="p">,</span> <span class="n">phase_1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">frequency_2</span><span class="p">,</span> <span class="n">amplitude_2</span><span class="p">,</span> <span class="n">phase_2</span><span class="p">)</span>
<span class="go">:Returns:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_f</span> <span class="o">=</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_a</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">common_phase</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">70</span><span class="p">]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.find_result_log_file">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">find_result_log_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result_log_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keyword_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_min_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.find_result_log_file" title="Link to this definition"></a></dt>
<dd><p>Find a result log-file in a folder with many result-log files.</p>
<p>Check a dictornary keyword list for matching a certain value (equel, greater equal, smaller equal).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_log_folder</strong> (<em>str</em>) – filepath to result-log folder</p></li>
<li><p><strong>keyword_list</strong> (<em>list</em>) – list with hirarchical keywords for dictionary structure, e.g. [“simulation_settings”, “core”, “core_inner_diameter”]</p></li>
<li><p><strong>value_min_max</strong> (<em>list</em>) – value to check for</p></li>
</ul>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<p>Check for files with a core inner diameter smaller equal than 0.02 m.
&gt;&gt;&gt; import femmt as fmt
&gt;&gt;&gt; fmt.find_result_log_file(“/home/filepath/fem_simulation_data”, [“simulation_settings”, “core”,
&gt;&gt;&gt;     “core_inner_diameter”],[0.015, 0.02])</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_coupling_matrix">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_coupling_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux_linkages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#femmt.functions.get_coupling_matrix" title="Link to this definition"></a></dt>
<dd><p>Calculate the coupling factors from the given flux linkages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>flux_linkages</strong> (<em>List</em>) – flux-linkages</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>coupling-matrix in a matrix (np.array)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_dict_with_unique_keys">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_dict_with_unique_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#femmt.functions.get_dict_with_unique_keys" title="Link to this definition"></a></dt>
<dd><p>Return a dictionary out of a list of dictionaries which contains the given key(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em><em>[</em><em>dict</em><em>]</em>) – list of dicts</p></li>
<li><p><strong>keys</strong> – keys in dicts</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_dicts_with_keys_and_values">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_dicts_with_keys_and_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#femmt.functions.get_dicts_with_keys_and_values" title="Link to this definition"></a></dt>
<dd><p>Return a list of dictionaries out of a list of dictionaries which contains pairs of the given key(s) and value(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>List</em>) – list of dicts</p></li>
<li><p><strong>kwargs</strong> – keys and values in dicts</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_flux_linkages_from_log">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_flux_linkages_from_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#femmt.functions.get_flux_linkages_from_log" title="Link to this definition"></a></dt>
<dd><p>Read the flux-linkages from the result log file (dictionary).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log</strong> (<em>Dict</em>) – Result log dictionary</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>flux-linkages in a list</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_inductance_matrix">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_inductance_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self_inductances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_coupling_factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coupling_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.get_inductance_matrix" title="Link to this definition"></a></dt>
<dd><p>Get the inductance matrix from self_inductances, mean_coupling_factors and the coupling_matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self_inductances</strong> (<em>np.array</em>) – matrix with self inductances in H</p></li>
<li><p><strong>mean_coupling_factors</strong> (<em>np.array</em>) – mean coupling factors</p></li>
<li><p><strong>coupling_matrix</strong> (<em>np.array</em>) – matrix with coupling factors</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_mean_coupling_factors">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_mean_coupling_factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coupling_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.get_mean_coupling_factors" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean coupling factors from the coupling matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coupling_matrix</strong> (<em>np.array</em>) – matrix with coupling factors between windings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_number_of_turns_of_winding">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_number_of_turns_of_winding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winding_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">windings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.get_number_of_turns_of_winding" title="Link to this definition"></a></dt>
<dd><p>Get the number of turns of a winding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>winding_windows</strong> (<em>List</em>) – List of winding windows</p></li>
<li><p><strong>windings</strong> (<em>List</em>) – List of windings</p></li>
<li><p><strong>winding_number</strong> (<em>int</em>) – number of winding</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.get_self_inductances_from_log">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">get_self_inductances_from_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#femmt.functions.get_self_inductances_from_log" title="Link to this definition"></a></dt>
<dd><p>Read the self-inductances from the result log file (dictionary).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log</strong> (<em>Dict</em>) – Result log dictionary</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>self-inductances in a list</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.hysteresis_current_excitation">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">hysteresis_current_excitation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_time_current_vectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.hysteresis_current_excitation" title="Link to this definition"></a></dt>
<dd><p>Collect the peak current and the corresponding phase shift for the fundamental frequency for all windings.</p>
<p>Results are used for calculating the hysteresis losses by another function.
In case of a center-tapped transformer, halving the amplitudes will be done by split_hysteresis_loss_excitation_center_tapped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_time_current_vectors</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>List</em><em>[</em><em>float</em><em>]</em><em>]</em><em>]</em>) – e.g. [[time_vec, i_primary_vec], [time_vec, i_secondary_vec]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – if time vector does not start at zero seconds.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>hyst_frequency, hyst_current_amplitudes, hyst_phases_deg, e.g. 200400.80170764355 [6.13, 26.65] [49.13, 229.49]</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[List[float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.install_pyfemm_if_missing">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">install_pyfemm_if_missing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.install_pyfemm_if_missing" title="Link to this definition"></a></dt>
<dd><p>Installs femm-software pip package in case of running on Windows machine. Windows users only.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.list_to_complex">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">list_to_complex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">complex_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.list_to_complex" title="Link to this definition"></a></dt>
<dd><p>Brings a list of two numbers (where first is real part, second is imaginary part) into a python specific complex number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>complex_list</strong> (<em>list</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>complex number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>complex</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.litz_calculate_number_layers">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">litz_calculate_number_layers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_strands</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#femmt.functions.litz_calculate_number_layers" title="Link to this definition"></a></dt>
<dd><p>Return the number of layers in a hexagonal litz winding with a specified number of strands (n_strands).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Zero number of layers corresponds to a single strand.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n_strands</strong> (<em>int</em>) – Number of strands in a litz</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number of layers for a litz</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.litz_calculate_number_strands">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">litz_calculate_number_strands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_layers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#femmt.functions.litz_calculate_number_strands" title="Link to this definition"></a></dt>
<dd><p>Return the number of strands in a hexagonal litz winding with a specified number of layers (n_layers).</p>
<p>CAUTION: Zero number of layers corresponds to a single strand.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n_layers</strong> (<em>int</em>) – number of litz_layers</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>number of strands in a litz wire</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.litz_database">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">litz_database</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#femmt.functions.litz_database" title="Link to this definition"></a></dt>
<dd><p>Return litz parameters for defined litz wires.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict including litz parameters like strand_numbers, strand_radii and conductor_radii</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.plot_fourier_coefficients">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">plot_fourier_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_rad_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.plot_fourier_coefficients" title="Link to this definition"></a></dt>
<dd><p>Plot fourier coefficients in a visual figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency_list</strong> (<em>List</em>) – List of frequencies in Hz</p></li>
<li><p><strong>amplitude_list</strong> (<em>List</em>) – List of amplitudes in A</p></li>
<li><p><strong>phi_rad_list</strong> (<em>List</em>) – List of angles in rad</p></li>
<li><p><strong>sample_factor</strong> (<em>int</em>) – sample factor</p></li>
<li><p><strong>figure_directory</strong> (<em>str</em>) – directory of figure to save</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.pm_core_inner_diameter_calculator">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">pm_core_inner_diameter_calculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_core_diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hole_diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">array</span></span></span><a class="headerlink" href="#femmt.functions.pm_core_inner_diameter_calculator" title="Link to this definition"></a></dt>
<dd><p>Calculate the effective inner core diameter without the hole often used in PM-cores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inner_core_diameter</strong> (<em>float</em>) – inner core diameter</p></li>
<li><p><strong>hole_diameter</strong> (<em>float</em>) – hole diameter</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>effective inner core diameter without hole</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.point_is_in_rect">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">point_is_in_rect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.point_is_in_rect" title="Link to this definition"></a></dt>
<dd><p>Check if a given x-y point is inside a rectangular field (e.g. inside a conductor).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – x coordinate of the point to check</p></li>
<li><p><strong>y</strong> (<em>float</em>) – y coordinate of the point to check</p></li>
<li><p><strong>rect</strong> (<em>List</em>) – rectangular</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.sort_out_small_harmonics">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">sort_out_small_harmonics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude_pair_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_pair_list_rad_or_deg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_out_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#femmt.functions.sort_out_small_harmonics" title="Link to this definition"></a></dt>
<dd><p>Sort out small harmonics from a given fft-output of a signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency_list</strong> (<em>List</em>) – List of input frequencies</p></li>
<li><p><strong>amplitude_pair_list</strong> (<em>List</em>) – list of amplitude pairs</p></li>
<li><p><strong>phase_pair_list_rad_or_deg</strong> (<em>List</em>) – list of phase pairs (can be rad or degree)</p></li>
<li><p><strong>sort_out_factor</strong> (<em>float</em>) – sort out factor [0…1]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[frequency_list, amplitude_pair_list, phase_pair_list_rad_or_deg]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.store_as_npy_in_directory">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">store_as_npy_in_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpy_data</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.store_as_npy_in_directory" title="Link to this definition"></a></dt>
<dd><p>Store a numpy array in a given directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_path</strong> (<em>str</em>) – directory path</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – file name</p></li>
<li><p><strong>numpy_data</strong> – numpy array</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.time_current_vector_to_fft_excitation">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">time_current_vector_to_fft_excitation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_current_vectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fft_filter_value_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.time_current_vector_to_fft_excitation" title="Link to this definition"></a></dt>
<dd><p>Perform FFT to get the primary and secondary currents e.g. to calculate the wire losses.</p>
<p>For further calculations e.g. calculating wire losses, the single frequencies can be ‘linear added’ to get the total winding losses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_current_vectors</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><em>List</em><em>[</em><em>float</em><em>]</em><em>]</em><em>]</em>) – primary and secondary current waveforms over time</p></li>
<li><p><strong>fft_filter_value_factor</strong> (<em>float</em>) – Factor to filter frequencies from the fft. E.g. 0.01 [default]
removes all amplitudes below 1 % of the maximum amplitude from the result-frequency list</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_coupling_factors">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_coupling_factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coupling_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_linkages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.visualize_coupling_factors" title="Link to this definition"></a></dt>
<dd><p>Print the coupling factors to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coupling_matrix</strong> (<em>np.array</em>) – matrix with coupling factors between the windings</p></li>
<li><p><strong>flux_linkages</strong> (<em>List</em>) – flux-linkages in a list</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_flux_linkages">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_flux_linkages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux_linkages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.visualize_flux_linkages" title="Link to this definition"></a></dt>
<dd><p>Print the flux linkages to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flux_linkages</strong> (<em>List</em>) – flux-linkages in a list</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_inductance_matrix">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_inductance_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inductance_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.visualize_inductance_matrix" title="Link to this definition"></a></dt>
<dd><p>Visualize the inductance matrix in the terminal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inductance_matrix</strong> (<em>np.array</em>) – inductance matrix in H</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
<p>e.g. M_12 = L_11 * K_21  !=   M_21 = L_22 * K_12   (ideally, they are the same)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_inductance_matrix_coefficients">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_inductance_matrix_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inductance_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.visualize_inductance_matrix_coefficients" title="Link to this definition"></a></dt>
<dd><p>Visualize the inductance matrix coefficients in the terminal.</p>
<p>e.g. M_12 = L_11 * K_21  !=   M_21 = L_22 * K_12   (ideally, they are the same)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inductance_matrix</strong> (<em>np.array</em>) – inductance matrix of transformer</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – False to show the terminal output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_mean_coupling_factors">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_mean_coupling_factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_coupling_factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.visualize_mean_coupling_factors" title="Link to this definition"></a></dt>
<dd><p>Print the mean coupling factors to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean_coupling_factors</strong> (<em>List</em>) – mean_coupling_factors in a list</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_mean_mutual_inductances">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_mean_mutual_inductances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inductance_matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.visualize_mean_mutual_inductances" title="Link to this definition"></a></dt>
<dd><p>Print the mean mutal inductances to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inductance_matrix</strong> (<em>np.array</em>) – inductance matrix</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
<p>e.g.  M_12 = M_21 = k_12 * (L_11 * L_22) ** 0.5</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_mutual_inductances">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_mutual_inductances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self_inductances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coupling_factors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.visualize_mutual_inductances" title="Link to this definition"></a></dt>
<dd><p>Print the mutal inductances to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self_inductances</strong> (<em>List</em>) – Matrix with self inductances</p></li>
<li><p><strong>coupling_factors</strong> (<em>List</em>) – Matrix with coupling factors</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
<p>e.g. M_12 = L_11 * K_21  !=   M_21 = L_22 * K_12   (ideally, they are the same)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_self_inductances">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_self_inductances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self_inductances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_linkages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.visualize_self_inductances" title="Link to this definition"></a></dt>
<dd><p>Print the self-inductances to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self_inductances</strong> (<em>Union</em><em>[</em><em>List</em><em>, </em><em>np.array</em><em>]</em>) – self-inductances in H in a list or numpy array</p></li>
<li><p><strong>flux_linkages</strong> (<em>Union</em><em>[</em><em>List</em><em>, </em><em>np.array</em><em>]</em>) – flux linkages</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_self_resistances">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_self_resistances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self_inductances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_linkages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.visualize_self_resistances" title="Link to this definition"></a></dt>
<dd><p>Calculate and print the self resistances to the terminal (or file-) output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self_inductances</strong> (<em>List</em>) – self-inductances in a list</p></li>
<li><p><strong>flux_linkages</strong> (<em>List</em>) – flux-linkage</p></li>
<li><p><strong>frequency</strong> (<em>float</em>) – Frequency in Hz</p></li>
<li><p><strong>silent</strong> (<em>bool</em>) – True for no output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.visualize_simulation_results">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">visualize_simulation_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simulation_result_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_figure_file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#femmt.functions.visualize_simulation_results" title="Link to this definition"></a></dt>
<dd><p>Visualize the simulation results by a figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simulation_result_file_path</strong> (<em>str</em>) – file path for the simulation results</p></li>
<li><p><strong>store_figure_file_path</strong> (<em>str</em>) – file path for the figure to store</p></li>
<li><p><strong>show_plot</strong> (<em>bool</em>) – True to show the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.wave_vector">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">wave_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex_permeability</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complex_permittivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">complex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conductivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions.wave_vector" title="Link to this definition"></a></dt>
<dd><p>Calculate the wave-vector of a signal inside the core material with its material parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em>) – frequency</p></li>
<li><p><strong>complex_permeability</strong> (<em>complex</em>) – complex permeability</p></li>
<li><p><strong>complex_permittivity</strong> (<em>complex</em>) – complex permittivity</p></li>
<li><p><strong>conductivity</strong> (<em>float</em>) – conductivity of the core material</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions.wire_material_database">
<span class="sig-prename descclassname"><span class="pre">femmt.functions.</span></span><span class="sig-name descname"><span class="pre">wire_material_database</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">WireMaterial</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#femmt.functions.wire_material_database" title="Link to this definition"></a></dt>
<dd><p>Return wire materials e.g. copper, aluminium in a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict with materials and conductivity</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-femmt.functions_model">
<span id="model-helper-functions"></span><h2><span class="sectnum">4.11 </span>Model helper functions<a class="headerlink" href="#module-femmt.functions_model" title="Link to this heading"></a></h2>
<p>Different functions to describe a model.</p>
<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions_model.define_center_tapped_insulation">
<span class="sig-prename descclassname"><span class="pre">femmt.functions_model.</span></span><span class="sig-name descname"><span class="pre">define_center_tapped_insulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">primary_to_primary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_to_secondary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_to_secondary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions_model.define_center_tapped_insulation" title="Link to this definition"></a></dt>
<dd><p>Define the ThreeWindingIsolation dto for the special case of a center-tapped transformer.</p>
<p>It’s assumed, that the secondary windings are isolated symmetrically.
:param primary_to_primary: Primary winding to primary winding insulation in m
:type primary_to_primary: float
:param secondary_to_secondary: Secondary winding to secondary winding insulation in m
:type secondary_to_secondary: float
:param primary_to_secondary: Primary winding to secondary winding insulaiton in m
:type primary_to_secondary: float
:return:</p>
</dd></dl>

</section>
<section id="module-femmt.reluctance">
<span id="reluctance-model-helper-functions"></span><h2><span class="sectnum">4.12 </span>Reluctance model helper functions<a class="headerlink" href="#module-femmt.reluctance" title="Link to this heading"></a></h2>
<p>Create and calculate reluctance models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">femmt.reluctance.</span></span><span class="sig-name descname"><span class="pre">MagneticCircuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core_inner_diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_w</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_of_turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_air_gaps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gap_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gap_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu_r_abs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mult_air_gap_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gap_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Percent'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'inductor'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'single'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit" title="Link to this definition"></a></dt>
<dd><p>Class object for calculating the reluctance and inductance of 2D-axis symmetric inductor.</p>
<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.add_column_to_data_matrix">
<span class="sig-name descname"><span class="pre">add_column_to_data_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.add_column_to_data_matrix" title="Link to this definition"></a></dt>
<dd><p>Add column to the given matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_matrix</strong> (<em>ndarray</em>) – Matrix containing the design parameters</p></li>
<li><p><strong>column_value</strong> (<em>ndarray</em>) – Column to be added</p></li>
<li><p><strong>column_name</strong> (<em>str</em>) – Identifier of the column</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.air_gap_reluctance_single">
<span class="sig-name descname"><span class="pre">air_gap_reluctance_single</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_single" title="Link to this definition"></a></dt>
<dd><p>Calculate the air-gap reluctance for a single simulation with single/multiple air-gaps.</p>
<p>Method according to the following paper:
[“A Novel Approach for 3D Air Gap Reluctance Calculations” - J. Mühlethaler, J.W. Kolar, A. Ecklebe]</p>
<p>It is called when input variable sim_type == ‘single’.
Its calculation for multiple air-gap is based on
series connection. That is, multiple air-gaps are divided equally and common height (h) is calculated.
Then their reluctances are calculated and added such that they are connected in series.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.air_gap_reluctance_single_new">
<span class="sig-name descname"><span class="pre">air_gap_reluctance_single_new</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_single_new" title="Link to this definition"></a></dt>
<dd><p>Calculate the air-gap reluctance for a single simulation with single/multiple air-gaps.</p>
<p>Method is according to the following paper:
[“A Novel Approach for 3D Air Gap Reluctance Calculations” - J. Mühlethaler, J.W. Kolar, A. Ecklebe]</p>
<p>It is called when input variable sim_type == ‘single’.
Its calculation for multiple air-gap is based on superposition.
That is, multiple air-gap’s reluctance is calculated by taking one at a time and then adding them together
(like in superposition theorem)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.air_gap_reluctance_sweep">
<span class="sig-name descname"><span class="pre">air_gap_reluctance_sweep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_sweep" title="Link to this definition"></a></dt>
<dd><p>Calculate the air-gap reluctance for a sweep simulation with single/distributed air-gaps.</p>
<p>Method according to the following paper:
[“A Novel Approach for 3D Air Gap Reluctance Calculations” - J. Mühlethaler, J.W. Kolar, A. Ecklebe]</p>
<p>It is called when input variable sim_type == ‘sweep’.
Its calculation for multiple air-gap is based on
series connection. That is, multiple air-gaps are divided equally and common height (h) is calculated.
Then their Reluctances are calculated and added such that they are connected in series.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.air_gap_reluctance_sweep_new">
<span class="sig-name descname"><span class="pre">air_gap_reluctance_sweep_new</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.air_gap_reluctance_sweep_new" title="Link to this definition"></a></dt>
<dd><p>Calculate the air-gap reluctance for a sweep simulation with single/distributed air-gaps.</p>
<p>Method according to the following paper:
[“A Novel Approach for 3D Air Gap Reluctance Calculations” - J. Mühlethaler, J.W. Kolar, A. Ecklebe]</p>
<p>It is called when input variable sim_type == ‘sweep’.
Its calculation for multiple air-gap is based on superposition.
That is, multiple air-gap’s reluctance is calculated by taking one at a time and then adding them together
(like in superposition theorem)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.calculate_inductance">
<span class="sig-name descname"><span class="pre">calculate_inductance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.calculate_inductance" title="Link to this definition"></a></dt>
<dd><p>Calculate the inductance from Number of turns and total reluctance (L = N^2 / R_m).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.core_reluctance">
<span class="sig-name descname"><span class="pre">core_reluctance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.core_reluctance" title="Link to this definition"></a></dt>
<dd><p>Calculate the core reluctance along with length and area of each section of the core geometry.</p>
<p>Core reluctance are referred from Appendix B of book “E. C. Snelling. Soft Ferrites,
Properties and Applications. 2nd edition. Butterworths, 1988”. This book is referred in Muelethaler thesis
at page no. 26</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.get_parameters_position_dict">
<span class="sig-name descname"><span class="pre">get_parameters_position_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.get_parameters_position_dict" title="Link to this definition"></a></dt>
<dd><p>Return dictionary ‘param_pos_dict’.</p>
<p>Used to refer the column number of data_matrix by using the column names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="femmt.reluctance.MagneticCircuit.input_pre_check">
<span class="sig-name descname"><span class="pre">input_pre_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.MagneticCircuit.input_pre_check" title="Link to this definition"></a></dt>
<dd><p>Check the correctness of the inputs provided to class MagneticCircuit.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.reluctance.create_data_matrix">
<span class="sig-prename descclassname"><span class="pre">femmt.reluctance.</span></span><span class="sig-name descname"><span class="pre">create_data_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core_inner_diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_w</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_of_turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_air_gaps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gap_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_gap_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu_rel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mult_air_gap_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.create_data_matrix" title="Link to this definition"></a></dt>
<dd><p>Create matrix consisting of input design parameters with all their combinations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core_inner_diameter</strong> (<em>list</em>) – Diameter of center leg of the core in meter</p></li>
<li><p><strong>window_h</strong> (<em>list</em>) – Height of the core window [in meter]</p></li>
<li><p><strong>window_w</strong> (<em>list</em>) – Width of the core window [in meter]</p></li>
<li><p><strong>no_of_turns</strong> (<em>list</em>) – Number of turns</p></li>
<li><p><strong>n_air_gaps</strong> (<em>list</em>) – Number of air-gaps in the center leg of the core</p></li>
<li><p><strong>air_gap_h</strong> (<em>list</em>) – Air-gap height [in meter]</p></li>
<li><p><strong>air_gap_position</strong> (<em>list</em>) – Position of the air-gap in the percentage with respect to window_h</p></li>
<li><p><strong>mu_rel</strong> (<em>list</em>) – Relative permeability of the core [in F/m]</p></li>
<li><p><strong>mult_air_gap_type</strong> (<em>list</em>) – Two types of equally distributed air-gaps (used only for air-gaps more than 1)
Type 1: Equally distributed air-gaps including corner air-gaps (eg: air-gaps-position = [0, 50, 100] for 3 air-gaps)
Type 2: Equally distributed air-gaps excluding corner air-gaps (eg: air-gaps-position = [25, 50, 75] for 3 air-gaps)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.reluctance.distributed_type_1">
<span class="sig-prename descclassname"><span class="pre">femmt.reluctance.</span></span><span class="sig-name descname"><span class="pre">distributed_type_1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">air_gap_height_single_air_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_inner_diameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_air_gaps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_multiple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.distributed_type_1" title="Link to this definition"></a></dt>
<dd><p>Calculate distributed air-gap reluctance of Type 1 (Where corner air-gaps are present).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>air_gap_height_single_air_gap</strong> (<em>list</em>) – Air-gap height [in meter]</p></li>
<li><p><strong>core_inner_diameter</strong> (<em>list</em>) – Diameter of center leg of the core [in meter]</p></li>
<li><p><strong>n_air_gaps</strong> (<em>list</em>) – Number of air-gaps in the center leg of the core</p></li>
<li><p><strong>h_multiple</strong> (<em>ndarray</em>) – Half of core height between two consecutive air-gaps in an equally distributed air-gaps [in meter]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Distributed air-gap reluctance of Type 1 (Where corner air-gaps are present)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.reluctance.distributed_type_2">
<span class="sig-prename descclassname"><span class="pre">femmt.reluctance.</span></span><span class="sig-name descname"><span class="pre">distributed_type_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">air_gap_height_single_air_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">core_inner_diameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_air_gaps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_multiple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.distributed_type_2" title="Link to this definition"></a></dt>
<dd><p>Calculate distributed air-gap reluctance of Type 2 (Where corner air-gaps are absent).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>air_gap_height_single_air_gap</strong> (<em>list</em>) – Air-gap height [in meter]</p></li>
<li><p><strong>core_inner_diameter</strong> (<em>list</em>) – Diameter of center leg of the core [in meter]</p></li>
<li><p><strong>n_air_gaps</strong> (<em>list</em>) – Number of air-gaps in the center leg of the core</p></li>
<li><p><strong>h_multiple</strong> (<em>ndarray</em>) – Core height between two consecutive air-gaps in an equally distributed air-gaps [in meter]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Distributed air-gap reluctance of Type 2 (Where corner air-gaps are absent)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.reluctance.plot_limitation">
<span class="sig-prename descclassname"><span class="pre">femmt.reluctance.</span></span><span class="sig-name descname"><span class="pre">plot_limitation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.plot_limitation" title="Link to this definition"></a></dt>
<dd><p>Plot limitation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.reluctance.plot_r_basic">
<span class="sig-prename descclassname"><span class="pre">femmt.reluctance.</span></span><span class="sig-name descname"><span class="pre">plot_r_basic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#femmt.reluctance.plot_r_basic" title="Link to this definition"></a></dt>
<dd><p>Plot the 2D Reluctance of the basic geometry described in Muelethaler thesis.</p>
<p>(using Schwarz-Christoffel transformation) at page no. 35.
It plots the Reluctance formula with respect to its variables (h/l and w/l).
It is an independent function and has been used to analyse the expression and its limitation.</p>
</dd></dl>

</section>
<section id="module-femmt.functions_topologies">
<span id="topology-helper-functions"></span><h2><span class="sectnum">4.13 </span>Topology helper functions<a class="headerlink" href="#module-femmt.functions_topologies" title="Link to this heading"></a></h2>
<p>Includes functions to generate different winding topologies.</p>
<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions_topologies.check_if_primary_conductor_row_fits_in_vww">
<span class="sig-prename descclassname"><span class="pre">femmt.functions_topologies.</span></span><span class="sig-name descname"><span class="pre">check_if_primary_conductor_row_fits_in_vww</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vww</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.model.VirtualWindingWindow"><span class="pre">VirtualWindingWindow</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConductorRow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_insulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ThreeWindingIsolation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions_topologies.check_if_primary_conductor_row_fits_in_vww" title="Link to this definition"></a></dt>
<dd><p>Check if the primary conductor row fits into the virtual winding window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vww</strong> (<a class="reference internal" href="#femmt.VirtualWindingWindow" title="femmt.VirtualWindingWindow"><em>VirtualWindingWindow</em></a>) – Virtual winding window</p></li>
<li><p><strong>row_element</strong> (<em>ConductorRow</em>) – row element to be placed in vwws</p></li>
<li><p><strong>winding_element</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding element as a conductor</p></li>
<li><p><strong>winding_insulations</strong> (<em>ThreeWindingIsolation</em>) – Winding insulations</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions_topologies.create_stacked_winding_windows">
<span class="sig-prename descclassname"><span class="pre">femmt.functions_topologies.</span></span><span class="sig-name descname"><span class="pre">create_stacked_winding_windows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core:</span> <span class="pre">~femmt.model.Core</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insulation:</span> <span class="pre">~femmt.model.Insulation)</span> <span class="pre">-&gt;</span> <span class="pre">(&lt;class</span> <span class="pre">'femmt.model.WindingWindow'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">&lt;class</span> <span class="pre">'femmt.model.WindingWindow'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions_topologies.create_stacked_winding_windows" title="Link to this definition"></a></dt>
<dd><p>Create stacked winding windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>core</strong> (<a class="reference internal" href="#femmt.Core" title="femmt.Core"><em>femmt.Core</em></a>) – Core class</p></li>
<li><p><strong>insulation</strong> (<a class="reference internal" href="#femmt.Insulation" title="femmt.Insulation"><em>Insulation</em></a>) – Insulation class</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>winding_window_top, winding_window_bot</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions_topologies.place_center_tapped_conductor_row">
<span class="sig-prename descclassname"><span class="pre">femmt.functions_topologies.</span></span><span class="sig-name descname"><span class="pre">place_center_tapped_conductor_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vwws</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConductorRow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_winding_scheme_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WindingScheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_vww</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_conductors_to_be_placed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_insulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ThreeWindingIsolation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_para_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WrapParaType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foil_horizontal_placing_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FoilHorizontalDistribution</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#femmt.functions_topologies.place_center_tapped_conductor_row" title="Link to this definition"></a></dt>
<dd><p>Place center-tapped conductor row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vwws</strong> (<em>list</em>) – list of virtual winding windows</p></li>
<li><p><strong>row_element</strong> (<em>ConductorRow</em>) – row element to be placed in vwws</p></li>
<li><p><strong>row_winding_scheme_type</strong> (<em>WindingScheme</em>) – Type of the winding scheme of the row</p></li>
<li><p><strong>no_vww</strong> (<em>int</em>) – Number of virtual winding window</p></li>
<li><p><strong>primary_conductors_to_be_placed</strong> (<em>int</em>) – Number of primary conductors to be placed</p></li>
<li><p><strong>winding1</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding 1 as Conductor</p></li>
<li><p><strong>winding2</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding 2 as Conductor</p></li>
<li><p><strong>winding3</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding 3 as Conductor</p></li>
<li><p><strong>winding_insulations</strong> (<em>ThreeWindingIsolation</em>) – Winding insulations</p></li>
<li><p><strong>wrap_para_type</strong> (<em>WrapParaType</em>) – wrap parameter type</p></li>
<li><p><strong>foil_horizontal_placing_strategy</strong> (<em>FoilHorizontalDistribution</em>) – strategy for placing foil horizontal windings</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of primary conductors to be placed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions_topologies.place_windings_in_vwws">
<span class="sig-prename descclassname"><span class="pre">femmt.functions_topologies.</span></span><span class="sig-name descname"><span class="pre">place_windings_in_vwws</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vwws</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_scheme_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformer_stack</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding3</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Conductor" title="femmt.model.Conductor"><span class="pre">Conductor</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_insulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ThreeWindingIsolation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_para_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WrapParaType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foil_horizontal_placing_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FoilHorizontalDistribution</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions_topologies.place_windings_in_vwws" title="Link to this definition"></a></dt>
<dd><p>Place windings in virtual winding windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vwws</strong> (<em>list</em>) – list of virtual winding windows</p></li>
<li><p><strong>winding_scheme_type</strong> (<em>list</em>) – list with the winding schemes according to the transformer stack
!explicitly does not contain the insulations!</p></li>
<li><p><strong>transformer_stack</strong></p></li>
<li><p><strong>primary_turns</strong> (<em>int</em>) – Number of primary turns</p></li>
<li><p><strong>winding1</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding 1 as Conductor</p></li>
<li><p><strong>winding2</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding 2 as Conductor</p></li>
<li><p><strong>winding3</strong> (<a class="reference internal" href="#femmt.Conductor" title="femmt.Conductor"><em>Conductor</em></a>) – Winding 3 as Conductor</p></li>
<li><p><strong>wrap_para_type</strong> (<em>WrapParaType</em>) – wrap parameter type</p></li>
<li><p><strong>winding_insulations</strong> (<em>ThreeWindingIsolation</em>) – Winding insulations</p></li>
<li><p><strong>foil_horizontal_placing_strategy</strong> (<em>FoilHorizontalDistribution</em>) – strategy for placing foil horizontal windings</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="femmt.functions_topologies.set_center_tapped_windings">
<span class="sig-prename descclassname"><span class="pre">femmt.functions_topologies.</span></span><span class="sig-name descname"><span class="pre">set_center_tapped_windings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#femmt.Core" title="femmt.model.Core"><span class="pre">Core</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_number_strands</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_strand_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_additional_bobbin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_parallel_turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_thickness_foil</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_foil_additional_bobbin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_top_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_bot_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_left_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_right_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_primary_to_primary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_secondary_to_secondary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iso_primary_to_secondary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interleaving_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">CenterTappedInterleavingType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interleaving_scheme</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">InterleavingSchemesFoilLitz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bobbin_coil_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bobbin_coil_bot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bobbin_coil_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bobbin_coil_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_coil_turns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winding_temperature</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wrap_para_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">WrapParaType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">WrapParaType.FixedThickness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foil_horizontal_placing_strategy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FoilHorizontalDistribution</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#femmt.functions_topologies.set_center_tapped_windings" title="Link to this definition"></a></dt>
<dd><p>Set center tapped windings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interleaving_scheme</strong> (<em>InterleavingSchemesFoilLitz</em>) – Interleaving scheme</p></li>
<li><p><strong>center_foil_additional_bobbin</strong> (<em>float</em>) – Additional bobbin</p></li>
<li><p><strong>primary_additional_bobbin</strong> (<em>float</em>)</p></li>
<li><p><strong>interleaving_type</strong> (<em>CenterTappedInterleavingType</em>) – interleaving type</p></li>
<li><p><strong>primary_strand_radius</strong> (<em>float</em>) – Primary strand radius in m</p></li>
<li><p><strong>primary_number_strands</strong> (<em>in</em>) – Primary number of strands</p></li>
<li><p><strong>iso_primary_to_secondary</strong> (<em>float</em>) – Insulation primary to secondary winding in m</p></li>
<li><p><strong>iso_secondary_to_secondary</strong> (<em>float</em>) – Insulation secondary to secondary winding in m</p></li>
<li><p><strong>iso_primary_to_primary</strong> (<em>float</em>) – Insulation primary to primary winding in m</p></li>
<li><p><strong>iso_right_core</strong> (<em>float</em>) – Insulation right core side in m</p></li>
<li><p><strong>iso_left_core</strong> (<em>float</em>) – Insulation left core side in m</p></li>
<li><p><strong>iso_bot_core</strong> (<em>float</em>) – Insulation bottom core side in m</p></li>
<li><p><strong>iso_top_core</strong> (<em>float</em>) – Insulation top core side in m</p></li>
<li><p><strong>core</strong> (<a class="reference internal" href="#femmt.Core" title="femmt.Core"><em>Core</em></a>) – Core class</p></li>
<li><p><strong>primary_turns</strong> (<em>int</em>) – Number of primary turns</p></li>
<li><p><strong>primary_radius</strong> (<em>float</em>) – Radius of primary winding conductors in m</p></li>
<li><p><strong>secondary_parallel_turns</strong> (<em>int</em>) – Number of secondary parallel turns</p></li>
<li><p><strong>secondary_thickness_foil</strong> (<em>float</em>) – Foil thickness of secondary winding in m</p></li>
<li><p><strong>bobbin_coil_right</strong> (<em>float</em>) – Right bobbin thickness of the coil part in m</p></li>
<li><p><strong>bobbin_coil_left</strong> (<em>float</em>) – Left bobbin thickness of the coil part in m</p></li>
<li><p><strong>bobbin_coil_bot</strong> (<em>float</em>) – Bottom bobbin thickness of the coil part in m</p></li>
<li><p><strong>bobbin_coil_top</strong> (<em>float</em>) – Top bobbin thickness of the coil part in m</p></li>
<li><p><strong>primary_coil_turns</strong> (<em>int</em>) – Number of primary coil turns</p></li>
<li><p><strong>winding_temperature</strong> (<em>Optional</em><em>[</em><em>float</em><em>]</em>) – winding temperature in °C</p></li>
<li><p><strong>wrap_para_type</strong> (<em>WrapParaType</em>) – wrap parameter type</p></li>
<li><p><strong>foil_horizontal_placing_strategy</strong> (<em>FoilHorizontalDistribution</em>) – strategy for placing foil horizontal windings</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-femmt.constants">
<span id="constants"></span><h2><span class="sectnum">4.14 </span>Constants<a class="headerlink" href="#module-femmt.constants" title="Link to this heading"></a></h2>
<p>Contains constants used by FEMMT.</p>
</section>
</section>
<section id="developer-notes-for-femmt">
<h1><span class="sectnum">5 </span>Developer Notes for FEMMT<a class="headerlink" href="#developer-notes-for-femmt" title="Link to this heading"></a></h1>
<p>This chapter contains some useful information when developing with femmt.</p>
<section id="variable-naming">
<h2><span class="sectnum">5.1 </span>Variable naming<a class="headerlink" href="#variable-naming" title="Link to this heading"></a></h2>
<p>The variable naming is defined as shown in this section. Note that the names should be as given here. <strong>No acronyms</strong>, like <code class="docutils literal notranslate"><span class="pre">f</span></code> or <code class="docutils literal notranslate"><span class="pre">freq</span></code> <strong>for</strong> <code class="docutils literal notranslate"><span class="pre">frequency</span></code>.</p>
<p><img alt="geometry_core_developer_notes" src="_images/geometry_core_developer_notes.png" />
<img alt="geometry_core_naming_convention" src="_images/geometry_core_naming_convention.png" /></p>
<section id="geometry-variables">
<h3><span class="sectnum">5.1.1 </span>Geometry variables<a class="headerlink" href="#geometry-variables" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">core_inner_diameter</span></code>: core inner diameter</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window_w</span></code>: width of winding window</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">winding_h</span></code>: height of winding window</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r_inner</span></code>: core_inner_diameter / 2 + winding_w</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r_outer</span></code>: core outer radius, calculated by software for same cross-section as inner cylinder</p></li>
</ul>
<p>Additional variables for integrated transformer
* <code class="docutils literal notranslate"><span class="pre">window_h_top</span></code>: height of top winding window
* <code class="docutils literal notranslate"><span class="pre">window_h_bot</span></code>: height of bottom winding window</p>
</section>
<section id="currents-temperature">
<h3><span class="sectnum">5.1.2 </span>currents, temperature<a class="headerlink" href="#currents-temperature" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">temperature</span></code>: temperature (Do <strong>not</strong> use <code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">temp</span></code>, …)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frequency</span></code>: frequency (Do <strong>not</strong> use <code class="docutils literal notranslate"><span class="pre">f</span></code>, <code class="docutils literal notranslate"><span class="pre">freq</span></code>, …)</p></li>
</ul>
</section>
<section id="material-variables">
<h3><span class="sectnum">5.1.3 </span>Material variables<a class="headerlink" href="#material-variables" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mu_r_abs</span></code>: absolute value of mu_r</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mu_r_real</span></code>: real part of mu_r</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mu_r_imag</span></code>: imaginary part of mu_r</p></li>
</ul>
</section>
</section>
<section id="winding-creation">
<h2><span class="sectnum">5.2 </span>Winding creation<a class="headerlink" href="#winding-creation" title="Link to this heading"></a></h2>
<p>Since there are multiple possible virtual winding windows containing currently up to 2 conductors it is necessary to have a global order for every conductor.
This order is set by the winding_number which is given to the Conductor on creation.
This results in multiple lists containing the same conductor objects (called windings) in different objects:</p>
<ol class="arabic simple">
<li><p>Every virtual winding window contains a list of conductors. This list either contains one conductor (single winding) or two conductors (interleaved winding). When setting the interleaved winding the order of conductors is given by the order of the parameters. First given winding -&gt; winding[0], second given winding -&gt; winding[1].</p></li>
<li><p>The magnetic component contains a list of conductors too. This list contains every unique conductor from every virtual winding window. The order of the windings list in magnetic component is given by the winding_number (sorted in ascending order). This means that the conductor with the lowest winding_number is at position 0 of the winding list: windings[0].</p></li>
</ol>
<p>Example:</p>
<p>2 conductors are created: Conductor0(winding_index=0) and Conductor1(winding_index=1). Additionally 2 virtual winding windows are created.
The first virtual winding window only contains Conductor0, the second virtual winding window contains both conductors.
The following winding lists are created:</p>
<ul class="simple">
<li><p>VirtualWindingWindow0: windings = [Conductor0]</p></li>
<li><p>VirtualWindingWindow1: windings = [Conductor0, Conductor1]</p></li>
<li><p>MagneticComponent: windings = [Conductor0, Conductor1]</p></li>
</ul>
<p>If Conductor1 has a lower winding_index than Conductor0 only the list in magnetic component would change since it does not change
the parameter order for setInterleavedWinding() in VirtualWindingWindow1:</p>
<ul class="simple">
<li><p>MagneticComponent: windings = [Conductor1, Conductor0]</p></li>
</ul>
<p>The order of the conductors in the magnetic component windings list is very important for the simulation.
When creating the model and running the simulation the order of the conductors in MagneticComponent.windings is used to determine
if the conductor is the primary, secondary (, tertiary, …) winding.</p>
<p>In the TwoDaxiSymmetric class points for every conductor are created. Those points are stored in a list called p_conductor.
p_conductor[0] is a list containing the points for every turn of the conductor with the lowest winding_index (primary winding).
p_conductors[1] is a list containing the points for every turn of the conductor with the second lowest winding_index (secondary winding).</p>
<p>Currently the magnetic solver only supports primary and secondary windings, therefore it is useless to create more conductors.
However the implemented structure is capable of working with n windings.</p>
</section>
<section id="general-file-overview">
<h2><span class="sectnum">5.3 </span>General file overview<a class="headerlink" href="#general-file-overview" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.pro</span></code>: solver files for communication between python and the solver</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.pos</span></code>: field results</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.dat</span></code>: integrated field results</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.msh</span></code>: mesh files</p></li>
</ul>
</section>
<section id="recommended-pycharm-settings">
<h2><span class="sectnum">5.4 </span>Recommended Pycharm settings<a class="headerlink" href="#recommended-pycharm-settings" title="Link to this heading"></a></h2>
<section id="exclude-simulation-directory-from-indexing">
<h3><span class="sectnum">5.4.1 </span>Exclude simulation directory from indexing<a class="headerlink" href="#exclude-simulation-directory-from-indexing" title="Link to this heading"></a></h3>
<p>Especially when performing Pareto optimizations in the example directory, Pycharm gets slow during indexing. To avoid this, you can use another directory or exclude the <code class="docutils literal notranslate"><span class="pre">example_results</span></code> directory from the project, as shown in the following steps:
<code class="docutils literal notranslate"><span class="pre">File</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Settings</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">project</span> <span class="pre">structure</span></code>, select the folders you need (e.g. <code class="docutils literal notranslate"><span class="pre">femmt/examples/example_results</span></code>, <code class="docutils literal notranslate"><span class="pre">right</span> <span class="pre">click</span></code> and click <code class="docutils literal notranslate"><span class="pre">excluded</span></code>.</p>
</section>
<section id="line-length">
<h3><span class="sectnum">5.4.2 </span>Line length<a class="headerlink" href="#line-length" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">File</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Settings</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Editor</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">Code</span> <span class="pre">Style</span></code>
Set the max. length to <code class="docutils literal notranslate"><span class="pre">160</span></code>.</p>
</section>
<section id="pycharm-code-highlighting-for-pro-files">
<h3><span class="sectnum">5.4.3 </span>Pycharm code highlighting for pro-files<a class="headerlink" href="#pycharm-code-highlighting-for-pro-files" title="Link to this heading"></a></h3>
<p><img alt="image_pycharm_configuration_pro_files" src="_images/pycharm_configuration_pro_files.png" /></p>
</section>
</section>
<section id="lint-check">
<h2><span class="sectnum">5.5 </span>Lint check<a class="headerlink" href="#lint-check" title="Link to this heading"></a></h2>
<p>run
<code class="docutils literal notranslate"><span class="pre">pycodestyle</span> <span class="pre">$(git</span> <span class="pre">ls-files</span> <span class="pre">'*.py')</span></code>
to check all your files for correct linting.</p>
<p>also run
<code class="docutils literal notranslate"><span class="pre">ruff</span> <span class="pre">check</span> <span class="pre">$(git</span> <span class="pre">ls-files</span> <span class="pre">'*.py')</span></code></p>
<p>also run
<code class="docutils literal notranslate"><span class="pre">pylint</span> <span class="pre">$(git</span> <span class="pre">ls-files</span> <span class="pre">'*.py')</span></code></p>
<p>For windows users, use the pycharm integrated <code class="docutils literal notranslate"><span class="pre">Git</span> <span class="pre">Bash</span></code>.</p>
</section>
<section id="build-documentation">
<h2><span class="sectnum">5.6 </span>Build documentation<a class="headerlink" href="#build-documentation" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">multiversion</span> <span class="n">documentation</span><span class="o">/</span><span class="n">source</span> <span class="n">documentation</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">html</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to FEM Magnetics Toolbox’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, LEA, Paderborn University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>